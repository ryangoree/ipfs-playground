"use strict";(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.IpfsGrpcClient = factory()}(typeof self !== 'undefined' ? self : this, function () {
var IpfsGrpcClient=(()=>{var Mu=Object.create;var Bt=Object.defineProperty;var qu=Object.getOwnPropertyDescriptor;var zu=Object.getOwnPropertyNames;var Lu=Object.getPrototypeOf,ju=Object.prototype.hasOwnProperty;var b=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),V=(r,e)=>{for(var t in e)Bt(r,t,{get:e[t],enumerable:!0})},xi=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of zu(e))!ju.call(r,i)&&i!==t&&Bt(r,i,{get:()=>e[i],enumerable:!(n=qu(e,i))||n.enumerable});return r};var T=(r,e,t)=>(t=r!=null?Mu(Lu(r)):{},xi(e||!r||!r.__esModule?Bt(t,"default",{value:r,enumerable:!0}):t,r)),$u=r=>xi(Bt({},"__esModule",{value:!0}),r);var to=b((uh,eo)=>{eo.exports=rn;var Qi=128,af=127,uf=~af,cf=Math.pow(2,31);function rn(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw rn.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var n=t;r>=cf;)e[t++]=r&255|Qi,r/=128;for(;r&uf;)e[t++]=r&255|Qi,r>>>=7;return e[t]=r|0,rn.bytes=t-n+1,e}});var io=b((ch,no)=>{no.exports=nn;var ff=128,ro=127;function nn(r,n){var t=0,n=n||0,i=0,o=n,s,a=r.length;do{if(o>=a||i>49)throw nn.bytes=0,new RangeError("Could not decode varint");s=r[o++],t+=i<28?(s&ro)<<i:(s&ro)*Math.pow(2,i),i+=7}while(s>=ff);return nn.bytes=o-n,t}});var so=b((fh,oo)=>{var lf=Math.pow(2,7),df=Math.pow(2,14),hf=Math.pow(2,21),pf=Math.pow(2,28),yf=Math.pow(2,35),mf=Math.pow(2,42),gf=Math.pow(2,49),bf=Math.pow(2,56),vf=Math.pow(2,63);oo.exports=function(r){return r<lf?1:r<df?2:r<hf?3:r<pf?4:r<yf?5:r<mf?6:r<gf?7:r<bf?8:r<vf?9:10}});var Xt=b((lh,ao)=>{ao.exports={encode:to(),decode:io(),encodingLength:so()}});var Be=b((Ch,go)=>{"use strict";function mo(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function Pf(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return mo(r,t)}catch{t.message=r.message,t.stack=r.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(r)),mo(new i,t)}}go.exports=Pf});var hn=b((Uh,_o)=>{"use strict";_o.exports=Uf;function Uf(r,e){for(var t=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)t[n++]=arguments[i++];return new Promise(function(a,u){t[n]=function(f){if(o)if(o=!1,f)u(f);else{for(var h=new Array(arguments.length-1),p=0;p<h.length;)h[p++]=arguments[p];a.apply(null,h)}};try{r.apply(e||null,t)}catch(c){o&&(o=!1,u(c))}})}});var Ao=b(To=>{"use strict";var Zt=To;Zt.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&e.charAt(t)==="=";)++n;return Math.ceil(e.length*3)/4-n};var We=new Array(64),Oo=new Array(123);for(ne=0;ne<64;)Oo[We[ne]=ne<26?ne+65:ne<52?ne+71:ne<62?ne-4:ne-59|43]=ne++;var ne;Zt.encode=function(e,t,n){for(var i=null,o=[],s=0,a=0,u;t<n;){var c=e[t++];switch(a){case 0:o[s++]=We[c>>2],u=(c&3)<<4,a=1;break;case 1:o[s++]=We[u|c>>4],u=(c&15)<<2,a=2;break;case 2:o[s++]=We[u|c>>6],o[s++]=We[c&63],a=0;break}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0)}return a&&(o[s++]=We[u],o[s++]=61,a===1&&(o[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var xo="invalid encoding";Zt.decode=function(e,t,n){for(var i=n,o=0,s,a=0;a<e.length;){var u=e.charCodeAt(a++);if(u===61&&o>1)break;if((u=Oo[u])===void 0)throw Error(xo);switch(o){case 0:s=u,o=1;break;case 1:t[n++]=s<<2|(u&48)>>4,s=u,o=2;break;case 2:t[n++]=(s&15)<<4|(u&60)>>2,s=u,o=3;break;case 3:t[n++]=(s&3)<<6|u,o=0;break}}if(o===1)throw Error(xo);return n-i};Zt.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var ko=b((Vh,Co)=>{"use strict";Co.exports=Qt;function Qt(){this._listeners={}}Qt.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this};Qt.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===t?n.splice(i,1):++i;return this};Qt.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,n)}return this}});var Mo=b((Jh,Po)=>{"use strict";Po.exports=Ro(Ro);function Ro(r){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),n=t[3]===128;function i(u,c,f){e[0]=u,c[f]=t[0],c[f+1]=t[1],c[f+2]=t[2],c[f+3]=t[3]}function o(u,c,f){e[0]=u,c[f]=t[3],c[f+1]=t[2],c[f+2]=t[1],c[f+3]=t[0]}r.writeFloatLE=n?i:o,r.writeFloatBE=n?o:i;function s(u,c){return t[0]=u[c],t[1]=u[c+1],t[2]=u[c+2],t[3]=u[c+3],e[0]}function a(u,c){return t[3]=u[c],t[2]=u[c+1],t[1]=u[c+2],t[0]=u[c+3],e[0]}r.readFloatLE=n?s:a,r.readFloatBE=n?a:s}():function(){function e(n,i,o,s){var a=i<0?1:0;if(a&&(i=-i),i===0)n(1/i>0?0:2147483648,o,s);else if(isNaN(i))n(2143289344,o,s);else if(i>34028234663852886e22)n((a<<31|2139095040)>>>0,o,s);else if(i<11754943508222875e-54)n((a<<31|Math.round(i/1401298464324817e-60))>>>0,o,s);else{var u=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-u)*8388608)&8388607;n((a<<31|u+127<<23|c)>>>0,o,s)}}r.writeFloatLE=e.bind(null,No),r.writeFloatBE=e.bind(null,Fo);function t(n,i,o){var s=n(i,o),a=(s>>31)*2+1,u=s>>>23&255,c=s&8388607;return u===255?c?NaN:a*(1/0):u===0?a*1401298464324817e-60*c:a*Math.pow(2,u-150)*(c+8388608)}r.readFloatLE=t.bind(null,Io),r.readFloatBE=t.bind(null,Bo)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),n=t[7]===128;function i(u,c,f){e[0]=u,c[f]=t[0],c[f+1]=t[1],c[f+2]=t[2],c[f+3]=t[3],c[f+4]=t[4],c[f+5]=t[5],c[f+6]=t[6],c[f+7]=t[7]}function o(u,c,f){e[0]=u,c[f]=t[7],c[f+1]=t[6],c[f+2]=t[5],c[f+3]=t[4],c[f+4]=t[3],c[f+5]=t[2],c[f+6]=t[1],c[f+7]=t[0]}r.writeDoubleLE=n?i:o,r.writeDoubleBE=n?o:i;function s(u,c){return t[0]=u[c],t[1]=u[c+1],t[2]=u[c+2],t[3]=u[c+3],t[4]=u[c+4],t[5]=u[c+5],t[6]=u[c+6],t[7]=u[c+7],e[0]}function a(u,c){return t[7]=u[c],t[6]=u[c+1],t[5]=u[c+2],t[4]=u[c+3],t[3]=u[c+4],t[2]=u[c+5],t[1]=u[c+6],t[0]=u[c+7],e[0]}r.readDoubleLE=n?s:a,r.readDoubleBE=n?a:s}():function(){function e(n,i,o,s,a,u){var c=s<0?1:0;if(c&&(s=-s),s===0)n(0,a,u+i),n(1/s>0?0:2147483648,a,u+o);else if(isNaN(s))n(0,a,u+i),n(2146959360,a,u+o);else if(s>17976931348623157e292)n(0,a,u+i),n((c<<31|2146435072)>>>0,a,u+o);else{var f;if(s<22250738585072014e-324)f=s/5e-324,n(f>>>0,a,u+i),n((c<<31|f/4294967296)>>>0,a,u+o);else{var h=Math.floor(Math.log(s)/Math.LN2);h===1024&&(h=1023),f=s*Math.pow(2,-h),n(f*4503599627370496>>>0,a,u+i),n((c<<31|h+1023<<20|f*1048576&1048575)>>>0,a,u+o)}}}r.writeDoubleLE=e.bind(null,No,0,4),r.writeDoubleBE=e.bind(null,Fo,4,0);function t(n,i,o,s,a){var u=n(s,a+i),c=n(s,a+o),f=(c>>31)*2+1,h=c>>>20&2047,p=4294967296*(c&1048575)+u;return h===2047?p?NaN:f*(1/0):h===0?f*5e-324*p:f*Math.pow(2,h-1075)*(p+4503599627370496)}r.readDoubleLE=t.bind(null,Io,0,4),r.readDoubleBE=t.bind(null,Bo,4,0)}(),r}function No(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function Fo(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function Io(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function Bo(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}});var pn=b((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var zo=b(qo=>{"use strict";var yn=qo;yn.length=function(e){for(var t=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?t+=1:n<2048?t+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,t+=4):t+=3;return t};yn.read=function(e,t,n){var i=n-t;if(i<1)return"";for(var o=null,s=[],a=0,u;t<n;)u=e[t++],u<128?s[a++]=u:u>191&&u<224?s[a++]=(u&31)<<6|e[t++]&63:u>239&&u<365?(u=((u&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,s[a++]=55296+(u>>10),s[a++]=56320+(u&1023)):s[a++]=(u&15)<<12|(e[t++]&63)<<6|e[t++]&63,a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};yn.write=function(e,t,n){for(var i=n,o,s,a=0;a<e.length;++a)o=e.charCodeAt(a),o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&((s=e.charCodeAt(a+1))&64512)===56320?(o=65536+((o&1023)<<10)+(s&1023),++a,t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128);return n-i}});var jo=b((Wh,Lo)=>{"use strict";Lo.exports=Hf;function Hf(r,e,t){var n=t||8192,i=n>>>1,o=null,s=n;return function(u){if(u<1||u>i)return r(u);s+u>n&&(o=r(n),s=0);var c=e.call(o,s,s+=u);return s&7&&(s=(s|7)+1),c}}});var Uo=b((Gh,$o)=>{"use strict";$o.exports=M;var pt=ue();function M(r,e){this.lo=r>>>0,this.hi=e>>>0}var Pe=M.zero=new M(0,0);Pe.toNumber=function(){return 0};Pe.zzEncode=Pe.zzDecode=function(){return this};Pe.length=function(){return 1};var Vf=M.zeroHash="\0\0\0\0\0\0\0\0";M.fromNumber=function(e){if(e===0)return Pe;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return t&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new M(n,i)};M.from=function(e){if(typeof e=="number")return M.fromNumber(e);if(pt.isString(e))if(pt.Long)e=pt.Long.fromString(e);else return M.fromNumber(parseInt(e,10));return e.low||e.high?new M(e.low>>>0,e.high>>>0):Pe};M.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+n*4294967296)}return this.lo+this.hi*4294967296};M.prototype.toLong=function(e){return pt.Long?new pt.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var Ae=String.prototype.charCodeAt;M.fromHash=function(e){return e===Vf?Pe:new M((Ae.call(e,0)|Ae.call(e,1)<<8|Ae.call(e,2)<<16|Ae.call(e,3)<<24)>>>0,(Ae.call(e,4)|Ae.call(e,5)<<8|Ae.call(e,6)<<16|Ae.call(e,7)<<24)>>>0)};M.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};M.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};M.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};M.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}});var ue=b(mn=>{"use strict";var v=mn;v.asPromise=hn();v.base64=Ao();v.EventEmitter=ko();v.float=Mo();v.inquire=pn();v.utf8=zo();v.pool=jo();v.LongBits=Uo();v.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);v.global=v.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||mn;v.emptyArray=Object.freeze?Object.freeze([]):[];v.emptyObject=Object.freeze?Object.freeze({}):{};v.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};v.isString=function(e){return typeof e=="string"||e instanceof String};v.isObject=function(e){return e&&typeof e=="object"};v.isset=v.isSet=function(e,t){var n=e[t];return n!=null&&e.hasOwnProperty(t)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};v.Buffer=function(){try{var r=v.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch{return null}}();v._Buffer_from=null;v._Buffer_allocUnsafe=null;v.newBuffer=function(e){return typeof e=="number"?v.Buffer?v._Buffer_allocUnsafe(e):new v.Array(e):v.Buffer?v._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};v.Array=typeof Uint8Array<"u"?Uint8Array:Array;v.Long=v.global.dcodeIO&&v.global.dcodeIO.Long||v.global.Long||v.inquire("long");v.key2Re=/^true|false|0|1$/;v.key32Re=/^-?(?:0|[1-9][0-9]*)$/;v.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;v.longToHash=function(e){return e?v.LongBits.from(e).toHash():v.LongBits.zeroHash};v.longFromHash=function(e,t){var n=v.LongBits.fromHash(e);return v.Long?v.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))};function Ho(r,e,t){for(var n=Object.keys(e),i=0;i<n.length;++i)(r[n[i]]===void 0||!t)&&(r[n[i]]=e[n[i]]);return r}v.merge=Ho;v.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function Vo(r){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&Ho(this,n)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get(){return r},set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}v.newError=Vo;v.ProtocolError=Vo("ProtocolError");v.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var i=Object.keys(this),o=i.length-1;o>-1;--o)if(t[i[o]]===1&&this[i[o]]!==void 0&&this[i[o]]!==null)return i[o]}};v.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}};v.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};v._configure=function(){var r=v.Buffer;if(!r){v._Buffer_from=v._Buffer_allocUnsafe=null;return}v._Buffer_from=r.from!==Uint8Array.from&&r.from||function(t,n){return new r(t,n)},v._Buffer_allocUnsafe=r.allocUnsafe||function(t){return new r(t)}}});var tr=b((Yh,Go)=>{"use strict";Go.exports=_;var K=ue(),gn,er=K.LongBits,Jo=K.base64,Xo=K.utf8;function yt(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function vn(){}function Jf(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function _(){this.len=0,this.head=new yt(vn,0,0),this.tail=this.head,this.states=null}var Wo=function(){return K.Buffer?function(){return(_.create=function(){return new gn})()}:function(){return new _}};_.create=Wo();_.alloc=function(e){return new K.Array(e)};K.Array!==Array&&(_.alloc=K.pool(_.alloc,K.Array.prototype.subarray));_.prototype._push=function(e,t,n){return this.tail=this.tail.next=new yt(e,t,n),this.len+=t,this};function wn(r,e,t){e[t]=r&255}function Xf(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function Dn(r,e){this.len=r,this.next=void 0,this.val=e}Dn.prototype=Object.create(yt.prototype);Dn.prototype.fn=Xf;_.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Dn((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};_.prototype.int32=function(e){return e<0?this._push(En,10,er.fromNumber(e)):this.uint32(e)};_.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function En(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}_.prototype.uint64=function(e){var t=er.from(e);return this._push(En,t.length(),t)};_.prototype.int64=_.prototype.uint64;_.prototype.sint64=function(e){var t=er.from(e).zzEncode();return this._push(En,t.length(),t)};_.prototype.bool=function(e){return this._push(wn,1,e?1:0)};function bn(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}_.prototype.fixed32=function(e){return this._push(bn,4,e>>>0)};_.prototype.sfixed32=_.prototype.fixed32;_.prototype.fixed64=function(e){var t=er.from(e);return this._push(bn,4,t.lo)._push(bn,4,t.hi)};_.prototype.sfixed64=_.prototype.fixed64;_.prototype.float=function(e){return this._push(K.float.writeFloatLE,4,e)};_.prototype.double=function(e){return this._push(K.float.writeDoubleLE,8,e)};var Wf=K.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var i=0;i<e.length;++i)t[n+i]=e[i]};_.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(wn,1,0);if(K.isString(e)){var n=_.alloc(t=Jo.length(e));Jo.decode(e,n,0),e=n}return this.uint32(t)._push(Wf,t,e)};_.prototype.string=function(e){var t=Xo.length(e);return t?this.uint32(t)._push(Xo.write,t,e):this._push(wn,1,0)};_.prototype.fork=function(){return this.states=new Jf(this),this.head=this.tail=new yt(vn,0,0),this.len=0,this};_.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new yt(vn,0,0),this.len=0),this};_.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this};_.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t};_._configure=function(r){gn=r,_.create=Wo(),gn._configure()}});var Zo=b((Zh,Yo)=>{"use strict";Yo.exports=ce;var Ko=tr();(ce.prototype=Object.create(Ko.prototype)).constructor=ce;var Ce=ue();function ce(){Ko.call(this)}ce._configure=function(){ce.alloc=Ce._Buffer_allocUnsafe,ce.writeBytesBuffer=Ce.Buffer&&Ce.Buffer.prototype instanceof Uint8Array&&Ce.Buffer.prototype.set.name==="set"?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var i=0;i<e.length;)t[n++]=e[i++]}};ce.prototype.bytes=function(e){Ce.isString(e)&&(e=Ce._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(ce.writeBytesBuffer,t,e),this};function Gf(r,e,t){r.length<40?Ce.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}ce.prototype.string=function(e){var t=Ce.Buffer.byteLength(e);return this.uint32(t),t&&this._push(Gf,t,e),this};ce._configure()});var nr=b((Qh,ns)=>{"use strict";ns.exports=R;var fe=ue(),_n,ts=fe.LongBits,Kf=fe.utf8;function ie(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function R(r){this.buf=r,this.pos=0,this.len=r.length}var Qo=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new R(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new R(e);throw Error("illegal buffer")},rs=function(){return fe.Buffer?function(t){return(R.create=function(i){return fe.Buffer.isBuffer(i)?new _n(i):Qo(i)})(t)}:Qo};R.create=rs();R.prototype._slice=fe.Array.prototype.subarray||fe.Array.prototype.slice;R.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,ie(this,10);return e}}();R.prototype.int32=function(){return this.uint32()|0};R.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function Sn(){var r=new ts(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw ie(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw ie(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}R.prototype.bool=function(){return this.uint32()!==0};function rr(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}R.prototype.fixed32=function(){if(this.pos+4>this.len)throw ie(this,4);return rr(this.buf,this.pos+=4)};R.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ie(this,4);return rr(this.buf,this.pos+=4)|0};function es(){if(this.pos+8>this.len)throw ie(this,8);return new ts(rr(this.buf,this.pos+=4),rr(this.buf,this.pos+=4))}R.prototype.float=function(){if(this.pos+4>this.len)throw ie(this,4);var e=fe.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};R.prototype.double=function(){if(this.pos+8>this.len)throw ie(this,4);var e=fe.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};R.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw ie(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)};R.prototype.string=function(){var e=this.bytes();return Kf.read(e,0,e.length)};R.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw ie(this,e);this.pos+=e}else do if(this.pos>=this.len)throw ie(this);while(this.buf[this.pos++]&128);return this};R.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!==4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};R._configure=function(r){_n=r,R.create=rs(),_n._configure();var e=fe.Long?"toLong":"toNumber";fe.merge(R.prototype,{int64:function(){return Sn.call(this)[e](!1)},uint64:function(){return Sn.call(this)[e](!0)},sint64:function(){return Sn.call(this).zzDecode()[e](!1)},fixed64:function(){return es.call(this)[e](!0)},sfixed64:function(){return es.call(this)[e](!1)}})}});var as=b((ep,ss)=>{"use strict";ss.exports=Me;var os=nr();(Me.prototype=Object.create(os.prototype)).constructor=Me;var is=ue();function Me(r){os.call(this,r)}Me._configure=function(){is.Buffer&&(Me.prototype._slice=is.Buffer.prototype.slice)};Me.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Me._configure()});var cs=b((tp,us)=>{"use strict";us.exports=mt;var xn=ue();(mt.prototype=Object.create(xn.EventEmitter.prototype)).constructor=mt;function mt(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");xn.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(t)}mt.prototype.rpcCall=function r(e,t,n,i,o){if(!i)throw TypeError("request must be specified");var s=this;if(!o)return xn.asPromise(r,s,e,t,n,i);if(!s.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return s.rpcImpl(e,t[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(u,c){if(u)return s.emit("error",u,e),o(u);if(c===null){s.end(!0);return}if(!(c instanceof n))try{c=n[s.responseDelimited?"decodeDelimited":"decode"](c)}catch(f){return s.emit("error",f,e),o(f)}return s.emit("data",c,e),o(null,c)})}catch(a){s.emit("error",a,e),setTimeout(function(){o(a)},0);return}};mt.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var On=b(fs=>{"use strict";var Yf=fs;Yf.Service=cs()});var Tn=b((np,ls)=>{"use strict";ls.exports={}});var An=b(hs=>{"use strict";var H=hs;H.build="minimal";H.Writer=tr();H.BufferWriter=Zo();H.Reader=nr();H.BufferReader=as();H.util=ue();H.rpc=On();H.roots=Tn();H.configure=ds;function ds(){H.util._configure(),H.Writer._configure(H.BufferWriter),H.Reader._configure(H.BufferReader)}ds()});var ys=b((op,ps)=>{"use strict";ps.exports=Cn;function Cn(r,e){typeof r=="string"&&(e=r,r=void 0);var t=[];function n(o){if(typeof o!="string"){var s=i();if(Cn.verbose&&console.log("codegen: "+s),s="return "+s,o){for(var a=Object.keys(o),u=new Array(a.length+1),c=new Array(a.length),f=0;f<a.length;)u[f]=a[f],c[f]=o[a[f++]];return u[f]=s,Function.apply(null,u).apply(null,c)}return Function(s)()}for(var h=new Array(arguments.length-1),p=0;p<h.length;)h[p]=arguments[++p];if(p=0,o=o.replace(/%([%dfijs])/g,function(l,d){var m=h[p++];switch(d){case"d":case"f":return String(Number(m));case"i":return String(Math.floor(m));case"j":return JSON.stringify(m);case"s":return String(m)}return"%"}),p!==h.length)throw Error("parameter count mismatch");return t.push(o),n}function i(o){return"function "+(o||e||"")+"("+(r&&r.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}return n.toString=i,n}Cn.verbose=!1});var gs=b((sp,ms)=>{"use strict";ms.exports=gt;var Zf=hn(),Qf=pn(),kn=Qf("fs");function gt(r,e,t){return typeof e=="function"?(t=e,e={}):e||(e={}),t?!e.xhr&&kn&&kn.readFile?kn.readFile(r,function(i,o){return i&&typeof XMLHttpRequest<"u"?gt.xhr(r,e,t):i?t(i):t(null,e.binary?o:o.toString("utf8"))}):gt.xhr(r,e,t):Zf(gt,this,r,e)}gt.xhr=function(e,t,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return n(Error("status "+i.status));if(t.binary){var s=i.response;if(!s){s=[];for(var a=0;a<i.responseText.length;++a)s.push(i.responseText.charCodeAt(a)&255)}return n(null,typeof Uint8Array<"u"?new Uint8Array(s):s)}return n(null,i.responseText)}},t.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}});var ws=b(vs=>{"use strict";var Nn=vs,bs=Nn.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},Rn=Nn.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),n=bs(e),i="";n&&(i=t.shift()+"/");for(var o=0;o<t.length;)t[o]===".."?o>0&&t[o-1]!==".."?t.splice(--o,2):n?t.splice(o,1):++o:t[o]==="."?t.splice(o,1):++o;return i+t.join("/")};Nn.resolve=function(e,t,n){return n||(t=Rn(t)),bs(t)?t:(n||(e=Rn(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?Rn(e+"/"+t):t)}});var Ge=b(Ds=>{"use strict";var bt=Ds,el=L(),tl=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function vt(r,e){var t=0,n={};for(e|=0;t<r.length;)n[tl[t+e]]=r[t++];return n}bt.basic=vt([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);bt.defaults=vt([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",el.emptyArray,null]);bt.long=vt([0,0,0,1,1],7);bt.mapKey=vt([0,0,0,5,5,0,0,0,1,1,0,2],2);bt.packed=vt([1,5,0,0,0,5,5,0,0,0,1,1,0])});var qe=b((cp,_s)=>{"use strict";_s.exports=Y;var ir=ze();((Y.prototype=Object.create(ir.prototype)).constructor=Y).className="Field";var Es=le(),Ss=Ge(),P=L(),Fn,rl=/^required|optional|repeated$/;Y.fromJSON=function(e,t){return new Y(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)};function Y(r,e,t,n,i,o,s){if(P.isObject(n)?(s=i,o=n,n=i=void 0):P.isObject(i)&&(s=o,o=i,i=void 0),ir.call(this,r,o),!P.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!P.isString(t))throw TypeError("type must be a string");if(n!==void 0&&!rl.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!P.isString(i))throw TypeError("extend must be a string");n==="proto3_optional"&&(n="optional"),this.rule=n&&n!=="optional"?n:void 0,this.type=t,this.id=e,this.extend=i||void 0,this.required=n==="required",this.optional=!this.required,this.repeated=n==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=P.Long?Ss.long[t]!==void 0:!1,this.bytes=t==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=s}Object.defineProperty(Y.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});Y.prototype.setOption=function(e,t,n){return e==="packed"&&(this._packed=null),ir.prototype.setOption.call(this,e,t,n)};Y.prototype.toJSON=function(e){var t=e?Boolean(e.keepComments):!1;return P.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};Y.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=Ss.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof Fn?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof Es&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof Es))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=P.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;P.base64.test(this.typeDefault)?P.base64.decode(this.typeDefault,e=P.newBuffer(P.base64.length(this.typeDefault)),0):P.utf8.write(this.typeDefault,e=P.newBuffer(P.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=P.emptyObject:this.repeated?this.defaultValue=P.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof Fn&&(this.parent.ctor.prototype[this.name]=this.defaultValue),ir.prototype.resolve.call(this)};Y.d=function(e,t,n,i){return typeof t=="function"?t=P.decorateType(t).name:t&&typeof t=="object"&&(t=P.decorateEnum(t).name),function(s,a){P.decorateType(s.constructor).add(new Y(a,e,t,n,{default:i}))}};Y._configure=function(e){Fn=e}});var wt=b((fp,Ts)=>{"use strict";Ts.exports=Z;var sr=ze();((Z.prototype=Object.create(sr.prototype)).constructor=Z).className="OneOf";var xs=qe(),or=L();function Z(r,e,t,n){if(Array.isArray(e)||(t=e,e=void 0),sr.call(this,r,t),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=n}Z.fromJSON=function(e,t){return new Z(e,t.oneof,t.options,t.comment)};Z.prototype.toJSON=function(e){var t=e?Boolean(e.keepComments):!1;return or.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])};function Os(r){if(r.parent)for(var e=0;e<r.fieldsArray.length;++e)r.fieldsArray[e].parent||r.parent.add(r.fieldsArray[e])}Z.prototype.add=function(e){if(!(e instanceof xs))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,Os(this),this};Z.prototype.remove=function(e){if(!(e instanceof xs))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this};Z.prototype.onAdd=function(e){sr.prototype.onAdd.call(this,e);for(var t=this,n=0;n<this.oneof.length;++n){var i=e.get(this.oneof[n]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}Os(this)};Z.prototype.onRemove=function(e){for(var t=0,n;t<this.fieldsArray.length;++t)(n=this.fieldsArray[t]).parent&&n.parent.remove(n);sr.prototype.onRemove.call(this,e)};Z.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(i,o){or.decorateType(i.constructor).add(new Z(o,e)),Object.defineProperty(i,o,{get:or.oneOfGetter(e),set:or.oneOfSetter(e)})}}});var Ze=b((lp,Rs)=>{"use strict";Rs.exports=x;var In=ze();((x.prototype=Object.create(In.prototype)).constructor=x).className="Namespace";var As=qe(),ar=L(),nl=wt(),Ke,Dt,Ye;x.fromJSON=function(e,t){return new x(e,t.options).addJSON(t.nested)};function Cs(r,e){if(!!(r&&r.length)){for(var t={},n=0;n<r.length;++n)t[r[n].name]=r[n].toJSON(e);return t}}x.arrayToJSON=Cs;x.isReservedId=function(e,t){if(e){for(var n=0;n<e.length;++n)if(typeof e[n]!="string"&&e[n][0]<=t&&e[n][1]>t)return!0}return!1};x.isReservedName=function(e,t){if(e){for(var n=0;n<e.length;++n)if(e[n]===t)return!0}return!1};function x(r,e){In.call(this,r,e),this.nested=void 0,this._nestedArray=null}function ks(r){return r._nestedArray=null,r}Object.defineProperty(x.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=ar.toArray(this.nested))}});x.prototype.toJSON=function(e){return ar.toObject(["options",this.options,"nested",Cs(this.nestedArray,e)])};x.prototype.addJSON=function(e){var t=this;if(e)for(var n=Object.keys(e),i=0,o;i<n.length;++i)o=e[n[i]],t.add((o.fields!==void 0?Ke.fromJSON:o.values!==void 0?Ye.fromJSON:o.methods!==void 0?Dt.fromJSON:o.id!==void 0?As.fromJSON:x.fromJSON)(n[i],o));return this};x.prototype.get=function(e){return this.nested&&this.nested[e]||null};x.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof Ye)return this.nested[e].values;throw Error("no such enum: "+e)};x.prototype.add=function(e){if(!(e instanceof As&&e.extend!==void 0||e instanceof Ke||e instanceof nl||e instanceof Ye||e instanceof Dt||e instanceof x))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t)if(t instanceof x&&e instanceof x&&!(t instanceof Ke||t instanceof Dt)){for(var n=t.nestedArray,i=0;i<n.length;++i)e.add(n[i]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}return this.nested[e.name]=e,e.onAdd(this),ks(this)};x.prototype.remove=function(e){if(!(e instanceof In))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),ks(this)};x.prototype.define=function(e,t){if(ar.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var n=this;e.length>0;){var i=e.shift();if(n.nested&&n.nested[i]){if(n=n.nested[i],!(n instanceof x))throw Error("path conflicts with non-namespace objects")}else n.add(n=new x(i))}return t&&n.addJSON(t),n};x.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof x?e[t++].resolveAll():e[t++].resolve();return this.resolve()};x.prototype.lookup=function(e,t,n){if(typeof t=="boolean"?(n=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),ar.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;if(e[0]==="")return this.root.lookup(e.slice(1),t);var i=this.get(e[0]);if(i){if(e.length===1){if(!t||t.indexOf(i.constructor)>-1)return i}else if(i instanceof x&&(i=i.lookup(e.slice(1),t,!0)))return i}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof x&&(i=this._nestedArray[o].lookup(e,t,!0)))return i;return this.parent===null||n?null:this.parent.lookup(e,t)};x.prototype.lookupType=function(e){var t=this.lookup(e,[Ke]);if(!t)throw Error("no such type: "+e);return t};x.prototype.lookupEnum=function(e){var t=this.lookup(e,[Ye]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t};x.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[Ke,Ye]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t};x.prototype.lookupService=function(e){var t=this.lookup(e,[Dt]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t};x._configure=function(r,e,t){Ke=r,Dt=e,Ye=t}});var Pn=b((dp,Ns)=>{"use strict";Ns.exports=ve;var Bn=qe();((ve.prototype=Object.create(Bn.prototype)).constructor=ve).className="MapField";var il=Ge(),Et=L();function ve(r,e,t,n,i,o){if(Bn.call(this,r,e,n,void 0,void 0,i,o),!Et.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}ve.fromJSON=function(e,t){return new ve(e,t.id,t.keyType,t.type,t.options,t.comment)};ve.prototype.toJSON=function(e){var t=e?Boolean(e.keepComments):!1;return Et.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};ve.prototype.resolve=function(){if(this.resolved)return this;if(il.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return Bn.prototype.resolve.call(this)};ve.d=function(e,t,n){return typeof n=="function"?n=Et.decorateType(n).name:n&&typeof n=="object"&&(n=Et.decorateEnum(n).name),function(o,s){Et.decorateType(o.constructor).add(new ve(s,e,t,n))}}});var qn=b((hp,Fs)=>{"use strict";Fs.exports=Le;var Mn=ze();((Le.prototype=Object.create(Mn.prototype)).constructor=Le).className="Method";var Qe=L();function Le(r,e,t,n,i,o,s,a,u){if(Qe.isObject(i)?(s=i,i=o=void 0):Qe.isObject(o)&&(s=o,o=void 0),!(e===void 0||Qe.isString(e)))throw TypeError("type must be a string");if(!Qe.isString(t))throw TypeError("requestType must be a string");if(!Qe.isString(n))throw TypeError("responseType must be a string");Mn.call(this,r,s),this.type=e||"rpc",this.requestType=t,this.requestStream=i?!0:void 0,this.responseType=n,this.responseStream=o?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=a,this.parsedOptions=u}Le.fromJSON=function(e,t){return new Le(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)};Le.prototype.toJSON=function(e){var t=e?Boolean(e.keepComments):!1;return Qe.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])};Le.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),Mn.prototype.resolve.call(this))}});var Ln=b((pp,Bs)=>{"use strict";Bs.exports=Q;var ke=Ze();((Q.prototype=Object.create(ke.prototype)).constructor=Q).className="Service";var zn=qn(),St=L(),ol=On();function Q(r,e){ke.call(this,r,e),this.methods={},this._methodsArray=null}Q.fromJSON=function(e,t){var n=new Q(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),o=0;o<i.length;++o)n.add(zn.fromJSON(i[o],t.methods[i[o]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n};Q.prototype.toJSON=function(e){var t=ke.prototype.toJSON.call(this,e),n=e?Boolean(e.keepComments):!1;return St.toObject(["options",t&&t.options||void 0,"methods",ke.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])};Object.defineProperty(Q.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=St.toArray(this.methods))}});function Is(r){return r._methodsArray=null,r}Q.prototype.get=function(e){return this.methods[e]||ke.prototype.get.call(this,e)};Q.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return ke.prototype.resolve.call(this)};Q.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof zn?(this.methods[e.name]=e,e.parent=this,Is(this)):ke.prototype.add.call(this,e)};Q.prototype.remove=function(e){if(e instanceof zn){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,Is(this)}return ke.prototype.remove.call(this,e)};Q.prototype.create=function(e,t,n){for(var i=new ol.Service(e,t,n),o=0,s;o<this.methodsArray.length;++o){var a=St.lcFirst((s=this._methodsArray[o]).resolve().name).replace(/[^$\w_]/g,"");i[a]=St.codegen(["r","c"],St.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:s,q:s.resolvedRequestType.ctor,s:s.resolvedResponseType.ctor})}return i}});var ur=b((yp,Ps)=>{"use strict";Ps.exports=de;var sl=ue();function de(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)this[e[t]]=r[e[t]]}de.create=function(e){return this.$type.create(e)};de.encode=function(e,t){return this.$type.encode(e,t)};de.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)};de.decode=function(e){return this.$type.decode(e)};de.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};de.verify=function(e){return this.$type.verify(e)};de.fromObject=function(e){return this.$type.fromObject(e)};de.toObject=function(e,t){return this.$type.toObject(e,t)};de.prototype.toJSON=function(){return this.$type.toObject(this,sl.toJSONOptions)}});var jn=b((mp,qs)=>{"use strict";qs.exports=cl;var al=le(),we=Ge(),Ms=L();function ul(r){return"missing required '"+r.name+"'"}function cl(r){var e=Ms.codegen(["r","l"],r.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(r.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");r.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var t=0;t<r.fieldsArray.length;++t){var n=r._fieldsArray[t].resolve(),i=n.resolvedType instanceof al?"int32":n.type,o="m"+Ms.safeProp(n.name);e("case %i: {",n.id),n.map?(e("if(%s===util.emptyObject)",o)("%s={}",o)("var c2 = r.uint32()+r.pos"),we.defaults[n.keyType]!==void 0?e("k=%j",we.defaults[n.keyType]):e("k=null"),we.defaults[i]!==void 0?e("value=%j",we.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",n.keyType)("case 2:"),we.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",t):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),we.long[n.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',o):e("%s[k]=value",o)):n.repeated?(e("if(!(%s&&%s.length))",o,o)("%s=[]",o),we.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",o,i)("}else"),we.basic[i]===void 0?e(n.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",o,t):e("%s.push(r.%s())",o,i)):we.basic[i]===void 0?e(n.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",o,t):e("%s=r.%s()",o,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<r._fieldsArray.length;++t){var s=r._fieldsArray[t];s.required&&e("if(!m.hasOwnProperty(%j))",s.name)("throw util.ProtocolError(%j,{instance:m})",ul(s))}return e("return m")}});var Hn=b((gp,zs)=>{"use strict";zs.exports=dl;var fl=le(),$n=L();function ee(r,e){return r.name+": "+e+(r.repeated&&e!=="array"?"[]":r.map&&e!=="object"?"{k:"+r.keyType+"}":"")+" expected"}function Un(r,e,t,n){if(e.resolvedType)if(e.resolvedType instanceof fl){r("switch(%s){",n)("default:")("return%j",ee(e,"enum value"));for(var i=Object.keys(e.resolvedType.values),o=0;o<i.length;++o)r("case %i:",e.resolvedType.values[i[o]]);r("break")("}")}else r("{")("var e=types[%i].verify(%s);",t,n)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.isInteger(%s))",n)("return%j",ee(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",n,n,n,n)("return%j",ee(e,"integer|Long"));break;case"float":case"double":r('if(typeof %s!=="number")',n)("return%j",ee(e,"number"));break;case"bool":r('if(typeof %s!=="boolean")',n)("return%j",ee(e,"boolean"));break;case"string":r("if(!util.isString(%s))",n)("return%j",ee(e,"string"));break;case"bytes":r('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',n,n,n)("return%j",ee(e,"buffer"));break}return r}function ll(r,e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.key32Re.test(%s))",t)("return%j",ee(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.key64Re.test(%s))",t)("return%j",ee(e,"integer|Long key"));break;case"bool":r("if(!util.key2Re.test(%s))",t)("return%j",ee(e,"boolean key"));break}return r}function dl(r){var e=$n.codegen(["m"],r.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),t=r.oneofsArray,n={};t.length&&e("var p={}");for(var i=0;i<r.fieldsArray.length;++i){var o=r._fieldsArray[i].resolve(),s="m"+$n.safeProp(o.name);if(o.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",s,o.name),o.map)e("if(!util.isObject(%s))",s)("return%j",ee(o,"object"))("var k=Object.keys(%s)",s)("for(var i=0;i<k.length;++i){"),ll(e,o,"k[i]"),Un(e,o,i,s+"[k[i]]")("}");else if(o.repeated)e("if(!Array.isArray(%s))",s)("return%j",ee(o,"array"))("for(var i=0;i<%s.length;++i){",s),Un(e,o,i,s+"[i]")("}");else{if(o.partOf){var a=$n.safeProp(o.partOf.name);n[o.partOf.name]===1&&e("if(p%s===1)",a)("return%j",o.partOf.name+": multiple values"),n[o.partOf.name]=1,e("p%s=1",a)}Un(e,o,i,s)}o.optional&&e("}")}return e("return null")}});var Xn=b(js=>{"use strict";var Ls=js,_t=le(),he=L();function Vn(r,e,t,n){var i=!1;if(e.resolvedType)if(e.resolvedType instanceof _t){r("switch(d%s){",n);for(var o=e.resolvedType.values,s=Object.keys(o),a=0;a<s.length;++a)o[s[a]]===e.typeDefault&&!i&&(r("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),e.repeated||r("break"),i=!0),r("case%j:",s[a])("case %i:",o[s[a]])("m%s=%j",n,o[s[a]])("break");r("}")}else r('if(typeof d%s!=="object")',n)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,t,n);else{var u=!1;switch(e.type){case"double":case"float":r("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":r("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":r("m%s=d%s|0",n,n);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":r("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,u)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,u?"true":"");break;case"bytes":r('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":r("m%s=String(d%s)",n,n);break;case"bool":r("m%s=Boolean(d%s)",n,n);break}}return r}Ls.fromObject=function(e){var t=e.fieldsArray,n=he.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var i=0;i<t.length;++i){var o=t[i].resolve(),s=he.safeProp(o.name);o.map?(n("if(d%s){",s)('if(typeof d%s!=="object")',s)("throw TypeError(%j)",o.fullName+": object expected")("m%s={}",s)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",s),Vn(n,o,i,s+"[ks[i]]")("}")("}")):o.repeated?(n("if(d%s){",s)("if(!Array.isArray(d%s))",s)("throw TypeError(%j)",o.fullName+": array expected")("m%s=[]",s)("for(var i=0;i<d%s.length;++i){",s),Vn(n,o,i,s+"[i]")("}")("}")):(o.resolvedType instanceof _t||n("if(d%s!=null){",s),Vn(n,o,i,s),o.resolvedType instanceof _t||n("}"))}return n("return m")};function Jn(r,e,t,n){if(e.resolvedType)e.resolvedType instanceof _t?r("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,t,n,n,t,n,n):r("d%s=types[%i].toObject(m%s,o)",n,t,n);else{var i=!1;switch(e.type){case"double":case"float":r("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":r('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,i?"true":"",n);break;case"bytes":r("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:r("d%s=m%s",n,n);break}}return r}Ls.toObject=function(e){var t=e.fieldsArray.slice().sort(he.compareFieldsById);if(!t.length)return he.codegen()("return {}");for(var n=he.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],o=[],s=[],a=0;a<t.length;++a)t[a].partOf||(t[a].resolve().repeated?i:t[a].map?o:s).push(t[a]);if(i.length){for(n("if(o.arrays||o.defaults){"),a=0;a<i.length;++a)n("d%s=[]",he.safeProp(i[a].name));n("}")}if(o.length){for(n("if(o.objects||o.defaults){"),a=0;a<o.length;++a)n("d%s={}",he.safeProp(o[a].name));n("}")}if(s.length){for(n("if(o.defaults){"),a=0;a<s.length;++a){var u=s[a],c=he.safeProp(u.name);if(u.resolvedType instanceof _t)n("d%s=o.enums===String?%j:%j",c,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",c)("}else")("d%s=o.longs===String?%j:%i",c,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var f="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",c,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",c,f)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",c,c)("}")}else n("d%s=%j",c,u.typeDefault)}n("}")}var h=!1;for(a=0;a<t.length;++a){var u=t[a],p=e._fieldsArray.indexOf(u),c=he.safeProp(u.name);u.map?(h||(h=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",c,c)("d%s={}",c)("for(var j=0;j<ks2.length;++j){"),Jn(n,u,p,c+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",c,c)("d%s=[]",c)("for(var j=0;j<m%s.length;++j){",c),Jn(n,u,p,c+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",c,u.name),Jn(n,u,p,c),u.partOf&&n("if(o.oneofs)")("d%s=%j",he.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}});var Wn=b($s=>{"use strict";var hl=$s,pl=ur();hl[".google.protobuf.Any"]={fromObject:function(r){if(r&&r["@type"]){var e=r["@type"].substring(r["@type"].lastIndexOf("/")+1),t=this.lookup(e);if(t){var n=r["@type"].charAt(0)==="."?r["@type"].slice(1):r["@type"];return n.indexOf("/")===-1&&(n="/"+n),this.create({type_url:n,value:t.encode(t.fromObject(r)).finish()})}}return this.fromObject(r)},toObject:function(r,e){var t="type.googleapis.com/",n="",i="";if(e&&e.json&&r.type_url&&r.value){i=r.type_url.substring(r.type_url.lastIndexOf("/")+1),n=r.type_url.substring(0,r.type_url.lastIndexOf("/")+1);var o=this.lookup(i);o&&(r=o.decode(r.value))}if(!(r instanceof this.ctor)&&r instanceof pl){var s=r.$type.toObject(r,e),a=r.$type.fullName[0]==="."?r.$type.fullName.slice(1):r.$type.fullName;return n===""&&(n=t),i=n+a,s["@type"]=i,s}return this.toObject(r,e)}}});var Zn=b((wp,Hs)=>{"use strict";Hs.exports=A;var oe=Ze();((A.prototype=Object.create(oe.prototype)).constructor=A).className="Type";var yl=le(),Yn=wt(),cr=qe(),ml=Pn(),gl=Ln(),Gn=ur(),Kn=nr(),bl=tr(),$=L(),vl=Qn(),wl=jn(),Dl=Hn(),Us=Xn(),El=Wn();function A(r,e){oe.call(this,r,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(A.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var r=Object.keys(this.fields),e=0;e<r.length;++e){var t=this.fields[r[e]],n=t.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=t}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=$.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=$.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=A.generateConstructor(this)())},set:function(r){var e=r.prototype;e instanceof Gn||((r.prototype=new Gn).constructor=r,$.merge(r.prototype,e)),r.$type=r.prototype.$type=this,$.merge(r,Gn,!0),this._ctor=r;for(var t=0;t<this.fieldsArray.length;++t)this._fieldsArray[t].resolve();var n={};for(t=0;t<this.oneofsArray.length;++t)n[this._oneofsArray[t].resolve().name]={get:$.oneOfGetter(this._oneofsArray[t].oneof),set:$.oneOfSetter(this._oneofsArray[t].oneof)};t&&Object.defineProperties(r.prototype,n)}}});A.generateConstructor=function(e){for(var t=$.codegen(["p"],e.name),n=0,i;n<e.fieldsArray.length;++n)(i=e._fieldsArray[n]).map?t("this%s={}",$.safeProp(i.name)):i.repeated&&t("this%s=[]",$.safeProp(i.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function fr(r){return r._fieldsById=r._fieldsArray=r._oneofsArray=null,delete r.encode,delete r.decode,delete r.verify,r}A.fromJSON=function(e,t){var n=new A(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var i=Object.keys(t.fields),o=0;o<i.length;++o)n.add((typeof t.fields[i[o]].keyType<"u"?ml.fromJSON:cr.fromJSON)(i[o],t.fields[i[o]]));if(t.oneofs)for(i=Object.keys(t.oneofs),o=0;o<i.length;++o)n.add(Yn.fromJSON(i[o],t.oneofs[i[o]]));if(t.nested)for(i=Object.keys(t.nested),o=0;o<i.length;++o){var s=t.nested[i[o]];n.add((s.id!==void 0?cr.fromJSON:s.fields!==void 0?A.fromJSON:s.values!==void 0?yl.fromJSON:s.methods!==void 0?gl.fromJSON:oe.fromJSON)(i[o],s))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n};A.prototype.toJSON=function(e){var t=oe.prototype.toJSON.call(this,e),n=e?Boolean(e.keepComments):!1;return $.toObject(["options",t&&t.options||void 0,"oneofs",oe.arrayToJSON(this.oneofsArray,e),"fields",oe.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])};A.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return oe.prototype.resolveAll.call(this)};A.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};A.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof cr&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),fr(this)}return e instanceof Yn?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),fr(this)):oe.prototype.add.call(this,e)};A.prototype.remove=function(e){if(e instanceof cr&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),fr(this)}if(e instanceof Yn){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),fr(this)}return oe.prototype.remove.call(this,e)};A.prototype.isReservedId=function(e){return oe.isReservedId(this.reserved,e)};A.prototype.isReservedName=function(e){return oe.isReservedName(this.reserved,e)};A.prototype.create=function(e){return new this.ctor(e)};A.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=vl(this)({Writer:bl,types:t,util:$}),this.decode=wl(this)({Reader:Kn,types:t,util:$}),this.verify=Dl(this)({types:t,util:$}),this.fromObject=Us.fromObject(this)({types:t,util:$}),this.toObject=Us.toObject(this)({types:t,util:$});var i=El[e];if(i){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(o),o.toObject=this.toObject,this.toObject=i.toObject.bind(o)}return this};A.prototype.encode=function(e,t){return this.setup().encode(e,t)};A.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()};A.prototype.decode=function(e,t){return this.setup().decode(e,t)};A.prototype.decodeDelimited=function(e){return e instanceof Kn||(e=Kn.create(e)),this.decode(e,e.uint32())};A.prototype.verify=function(e){return this.setup().verify(e)};A.prototype.fromObject=function(e){return this.setup().fromObject(e)};A.prototype.toObject=function(e,t){return this.setup().toObject(e,t)};A.d=function(e){return function(n){$.decorateType(n,e)}}});var ri=b((Dp,Gs)=>{"use strict";Gs.exports=J;var dr=Ze();((J.prototype=Object.create(dr.prototype)).constructor=J).className="Root";var ti=qe(),Js=le(),Sl=wt(),Re=L(),Xs,ei,xt;function J(r){dr.call(this,"",r),this.deferred=[],this.files=[]}J.fromJSON=function(e,t){return t||(t=new J),e.options&&t.setOptions(e.options),t.addJSON(e.nested)};J.prototype.resolvePath=Re.path.resolve;J.prototype.fetch=Re.fetch;function Ws(){}J.prototype.load=function r(e,t,n){typeof t=="function"&&(n=t,t=void 0);var i=this;if(!n)return Re.asPromise(r,i,e,t);var o=n===Ws;function s(y,l){if(!!n){var d=n;if(n=null,o)throw y;d(y,l)}}function a(y){var l=y.lastIndexOf("google/protobuf/");if(l>-1){var d=y.substring(l);if(d in xt)return d}return null}function u(y,l){try{if(Re.isString(l)&&l.charAt(0)==="{"&&(l=JSON.parse(l)),!Re.isString(l))i.setOptions(l.options).addJSON(l.nested);else{ei.filename=y;var d=ei(l,i,t),m,g=0;if(d.imports)for(;g<d.imports.length;++g)(m=a(d.imports[g])||i.resolvePath(y,d.imports[g]))&&c(m);if(d.weakImports)for(g=0;g<d.weakImports.length;++g)(m=a(d.weakImports[g])||i.resolvePath(y,d.weakImports[g]))&&c(m,!0)}}catch(w){s(w)}!o&&!f&&s(null,i)}function c(y,l){if(!(i.files.indexOf(y)>-1)){if(i.files.push(y),y in xt){o?u(y,xt[y]):(++f,setTimeout(function(){--f,u(y,xt[y])}));return}if(o){var d;try{d=Re.fs.readFileSync(y).toString("utf8")}catch(m){l||s(m);return}u(y,d)}else++f,i.fetch(y,function(m,g){if(--f,!!n){if(m){l?f||s(null,i):s(m);return}u(y,g)}})}}var f=0;Re.isString(e)&&(e=[e]);for(var h=0,p;h<e.length;++h)(p=i.resolvePath("",e[h]))&&c(p);if(o)return i;f||s(null,i)};J.prototype.loadSync=function(e,t){if(!Re.isNode)throw Error("not supported");return this.load(e,t,Ws)};J.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return dr.prototype.resolveAll.call(this)};var lr=/^[A-Z]/;function Vs(r,e){var t=e.parent.lookup(e.extend);if(t){var n=new ti(e.fullName,e.id,e.type,e.rule,void 0,e.options);return n.declaringField=e,e.extensionField=n,t.add(n),!0}return!1}J.prototype._handleAdd=function(e){if(e instanceof ti)e.extend!==void 0&&!e.extensionField&&(Vs(this,e)||this.deferred.push(e));else if(e instanceof Js)lr.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof Sl)){if(e instanceof Xs)for(var t=0;t<this.deferred.length;)Vs(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);lr.test(e.name)&&(e.parent[e.name]=e)}};J.prototype._handleRemove=function(e){if(e instanceof ti){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof Js)lr.test(e.name)&&delete e.parent[e.name];else if(e instanceof dr){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);lr.test(e.name)&&delete e.parent[e.name]}};J._configure=function(r,e,t){Xs=r,ei=e,xt=t}});var L=b((Ep,Ys)=>{"use strict";var N=Ys.exports=ue(),Ks=Tn(),ni,ii;N.codegen=ys();N.fetch=gs();N.path=ws();N.fs=N.inquire("fs");N.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),i=0;i<t.length;)n[i]=e[t[i++]];return n}return[]};N.toObject=function(e){for(var t={},n=0;n<e.length;){var i=e[n++],o=e[n++];o!==void 0&&(t[i]=o)}return t};var _l=/\\/g,xl=/"/g;N.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};N.safeProp=function(e){return!/^[$\w_]+$/.test(e)||N.isReserved(e)?'["'+e.replace(_l,"\\\\").replace(xl,'\\"')+'"]':"."+e};N.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var Ol=/_([a-z])/g;N.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(Ol,function(t,n){return n.toUpperCase()})};N.compareFieldsById=function(e,t){return e.id-t.id};N.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(N.decorateRoot.remove(e.$type),e.$type.name=t,N.decorateRoot.add(e.$type)),e.$type;ni||(ni=Zn());var n=new ni(t||e.name);return N.decorateRoot.add(n),n.ctor=e,Object.defineProperty(e,"$type",{value:n,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:n,enumerable:!1}),n};var Tl=0;N.decorateEnum=function(e){if(e.$type)return e.$type;ii||(ii=le());var t=new ii("Enum"+Tl++,e);return N.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t};N.setProperty=function(e,t,n){function i(o,s,a){var u=s.shift();if(u==="__proto__")return o;if(s.length>0)o[u]=i(o[u]||{},s,a);else{var c=o[u];c&&(a=[].concat(c).concat(a)),o[u]=a}return o}if(typeof e!="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return t=t.split("."),i(e,t,n)};Object.defineProperty(N,"decorateRoot",{get:function(){return Ks.decorated||(Ks.decorated=new(ri()))}})});var ze=b((Sp,Zs)=>{"use strict";Zs.exports=X;X.className="ReflectionObject";var hr=L(),pr;function X(r,e){if(!hr.isString(r))throw TypeError("name must be a string");if(e&&!hr.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=r,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(X.prototype,{root:{get:function(){for(var r=this;r.parent!==null;)r=r.parent;return r}},fullName:{get:function(){for(var r=[this.name],e=this.parent;e;)r.unshift(e.name),e=e.parent;return r.join(".")}}});X.prototype.toJSON=function(){throw Error()};X.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof pr&&t._handleAdd(this)};X.prototype.onRemove=function(e){var t=e.root;t instanceof pr&&t._handleRemove(this),this.parent=null,this.resolved=!1};X.prototype.resolve=function(){return this.resolved?this:(this.root instanceof pr&&(this.resolved=!0),this)};X.prototype.getOption=function(e){if(this.options)return this.options[e]};X.prototype.setOption=function(e,t,n){return(!n||!this.options||this.options[e]===void 0)&&((this.options||(this.options={}))[e]=t),this};X.prototype.setParsedOption=function(e,t,n){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(n){var o=i.find(function(u){return Object.prototype.hasOwnProperty.call(u,e)});if(o){var s=o[e];hr.setProperty(s,n,t)}else o={},o[e]=hr.setProperty({},n,t),i.push(o)}else{var a={};a[e]=t,i.push(a)}return this};X.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)this.setOption(n[i],e[n[i]],t);return this};X.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e};X._configure=function(r){pr=r}});var le=b((_p,ta)=>{"use strict";ta.exports=pe;var Qs=ze();((pe.prototype=Object.create(Qs.prototype)).constructor=pe).className="Enum";var ea=Ze(),yr=L();function pe(r,e,t,n,i,o){if(Qs.call(this,r,t),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=n,this.comments=i||{},this.valuesOptions=o,this.reserved=void 0,e)for(var s=Object.keys(e),a=0;a<s.length;++a)typeof e[s[a]]=="number"&&(this.valuesById[this.values[s[a]]=e[s[a]]]=s[a])}pe.fromJSON=function(e,t){var n=new pe(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n};pe.prototype.toJSON=function(e){var t=e?Boolean(e.keepComments):!1;return yr.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])};pe.prototype.add=function(e,t,n,i){if(!yr.isString(e))throw TypeError("name must be a string");if(!yr.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=n||null,this};pe.prototype.remove=function(e){if(!yr.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};pe.prototype.isReservedId=function(e){return ea.isReservedId(this.reserved,e)};pe.prototype.isReservedName=function(e){return ea.isReservedName(this.reserved,e)}});var Qn=b((xp,na)=>{"use strict";na.exports=Cl;var Al=le(),oi=Ge(),si=L();function ra(r,e,t,n){return e.resolvedType.group?r("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,n,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):r("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,n,(e.id<<3|2)>>>0)}function Cl(r){for(var e=si.codegen(["m","w"],r.name+"$encode")("if(!w)")("w=Writer.create()"),t,n,i=r.fieldsArray.slice().sort(si.compareFieldsById),t=0;t<i.length;++t){var o=i[t].resolve(),s=r._fieldsArray.indexOf(o),a=o.resolvedType instanceof Al?"int32":o.type,u=oi.basic[a];n="m"+si.safeProp(o.name),o.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",n,o.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",n)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(o.id<<3|2)>>>0,8|oi.mapKey[o.keyType],o.keyType),u===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",s,n):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|u,a,n),e("}")("}")):o.repeated?(e("if(%s!=null&&%s.length){",n,n),o.packed&&oi.packed[a]!==void 0?e("w.uint32(%i).fork()",(o.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",n)("w.%s(%s[i])",a,n)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",n),u===void 0?ra(e,o,s,n+"[i]"):e("w.uint32(%i).%s(%s[i])",(o.id<<3|u)>>>0,a,n)),e("}")):(o.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",n,o.name),u===void 0?ra(e,o,s,n):e("w.uint32(%i).%s(%s)",(o.id<<3|u)>>>0,a,n))}return e("return w")}});var oa=b((Op,ia)=>{"use strict";var S=ia.exports=An();S.build="light";function kl(r,e,t){return typeof e=="function"?(t=e,e=new S.Root):e||(e=new S.Root),e.load(r,t)}S.load=kl;function Rl(r,e){return e||(e=new S.Root),e.loadSync(r)}S.loadSync=Rl;S.encoder=Qn();S.decoder=jn();S.verifier=Hn();S.converter=Xn();S.ReflectionObject=ze();S.Namespace=Ze();S.Root=ri();S.Enum=le();S.Type=Zn();S.Field=qe();S.OneOf=wt();S.MapField=Pn();S.Service=Ln();S.Method=qn();S.Message=ur();S.wrappers=Wn();S.types=Ge();S.util=L();S.ReflectionObject._configure(S.Root);S.Namespace._configure(S.Type,S.Service,S.Enum);S.Root._configure(S.Type);S.Field._configure(S.Type)});var aa=b((Tp,sa)=>{"use strict";sa.exports=oa()});var ci=b((Ot,ui)=>{(function(r,e){if(typeof Ot=="object"&&typeof ui=="object")ui.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t=e();for(var n in t)(typeof Ot=="object"?Ot:r)[n]=t[n]}})(Ot,function(){return r={418:function(t,n){(function(i,o){for(var s in o)i[s]=o[s]})(n,function(i){var o={};function s(a){if(o[a])return o[a].exports;var u=o[a]={i:a,l:!1,exports:{}};return i[a].call(u.exports,u,u.exports,s),u.l=!0,u.exports}return s.m=i,s.c=o,s.i=function(a){return a},s.d=function(a,u,c){s.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:c})},s.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(u,"a",u),u},s.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},s.p="",s(s.s=1)}([function(i,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=s(3),u=function(){function c(f,h){f===void 0&&(f={}),h===void 0&&(h={splitValues:!1});var p,y=this;this.headersMap={},f&&(typeof Headers<"u"&&f instanceof Headers?a.getHeaderKeys(f).forEach(function(l){a.getHeaderValues(f,l).forEach(function(d){h.splitValues?y.append(l,a.splitHeaderValue(d)):y.append(l,d)})}):typeof(p=f)=="object"&&typeof p.headersMap=="object"&&typeof p.forEach=="function"?f.forEach(function(l,d){y.append(l,d)}):typeof Map<"u"&&f instanceof Map?f.forEach(function(l,d){y.append(d,l)}):typeof f=="string"?this.appendFromString(f):typeof f=="object"&&Object.getOwnPropertyNames(f).forEach(function(l){var d=f[l];Array.isArray(d)?d.forEach(function(m){y.append(l,m)}):y.append(l,d)}))}return c.prototype.appendFromString=function(f){for(var h=f.split(`\r
`),p=0;p<h.length;p++){var y=h[p],l=y.indexOf(":");if(l>0){var d=y.substring(0,l).trim(),m=y.substring(l+1).trim();this.append(d,m)}}},c.prototype.delete=function(f,h){var p=a.normalizeName(f);if(h===void 0)delete this.headersMap[p];else{var y=this.headersMap[p];if(y){var l=y.indexOf(h);l>=0&&y.splice(l,1),y.length===0&&delete this.headersMap[p]}}},c.prototype.append=function(f,h){var p=this,y=a.normalizeName(f);Array.isArray(this.headersMap[y])||(this.headersMap[y]=[]),Array.isArray(h)?h.forEach(function(l){p.headersMap[y].push(a.normalizeValue(l))}):this.headersMap[y].push(a.normalizeValue(h))},c.prototype.set=function(f,h){var p=a.normalizeName(f);if(Array.isArray(h)){var y=[];h.forEach(function(l){y.push(a.normalizeValue(l))}),this.headersMap[p]=y}else this.headersMap[p]=[a.normalizeValue(h)]},c.prototype.has=function(f,h){var p=this.headersMap[a.normalizeName(f)];if(!Array.isArray(p))return!1;if(h!==void 0){var y=a.normalizeValue(h);return p.indexOf(y)>=0}return!0},c.prototype.get=function(f){var h=this.headersMap[a.normalizeName(f)];return h!==void 0?h.concat():[]},c.prototype.forEach=function(f){var h=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(p){f(p,h.headersMap[p])},this)},c.prototype.toHeaders=function(){if(typeof Headers<"u"){var f=new Headers;return this.forEach(function(h,p){p.forEach(function(y){f.append(h,y)})}),f}throw new Error("Headers class is not defined")},c}();o.BrowserHeaders=u},function(i,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=s(0);o.BrowserHeaders=a.BrowserHeaders},function(i,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.iterateHeaders=function(a,u){for(var c=a[Symbol.iterator](),f=c.next();!f.done;)u(f.value[0]),f=c.next()},o.iterateHeadersKeys=function(a,u){for(var c=a.keys(),f=c.next();!f.done;)u(f.value),f=c.next()}},function(i,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=s(2);o.normalizeName=function(u){if(typeof u!="string"&&(u=String(u)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(u))throw new TypeError("Invalid character in header field name");return u.toLowerCase()},o.normalizeValue=function(u){return typeof u!="string"&&(u=String(u)),u},o.getHeaderValues=function(u,c){var f=u;if(f instanceof Headers&&f.getAll)return f.getAll(c);var h=f.get(c);return h&&typeof h=="string"?[h]:h},o.getHeaderKeys=function(u){var c=u,f={},h=[];return c.keys?a.iterateHeadersKeys(c,function(p){f[p]||(f[p]=!0,h.push(p))}):c.forEach?c.forEach(function(p,y){f[y]||(f[y]=!0,h.push(y))}):a.iterateHeaders(c,function(p){var y=p[0];f[y]||(f[y]=!0,h.push(y))}),h},o.splitHeaderValue=function(u){var c=[];return u.split(", ").forEach(function(f){f.split(",").forEach(function(h){c.push(h)})}),c}}]))},617:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ChunkParser=n.ChunkType=n.encodeASCII=n.decodeASCII=void 0;var o,s=i(65);function a(l){return(d=l)===9||d===10||d===13||l>=32&&l<=126;var d}function u(l){for(var d=0;d!==l.length;++d)if(!a(l[d]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(l))}function c(l){return(128&l.getUint8(0))==128}function f(l){return l.getUint32(1,!1)}function h(l,d,m){return l.byteLength-d>=m}function p(l,d,m){if(l.slice)return l.slice(d,m);var g=l.length;m!==void 0&&(g=m);for(var w=new Uint8Array(g-d),C=0,F=d;F<g;F++)w[C++]=l[F];return w}n.decodeASCII=u,n.encodeASCII=function(l){for(var d=new Uint8Array(l.length),m=0;m!==l.length;++m){var g=l.charCodeAt(m);if(!a(g))throw new Error("Metadata contains invalid ASCII");d[m]=g}return d},function(l){l[l.MESSAGE=1]="MESSAGE",l[l.TRAILERS=2]="TRAILERS"}(o=n.ChunkType||(n.ChunkType={}));var y=function(){function l(){this.buffer=null,this.position=0}return l.prototype.parse=function(d,m){if(d.length===0&&m)return[];var g,w=[];if(this.buffer==null)this.buffer=d,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=d,this.position=0;else{var C=this.buffer.byteLength-this.position,F=new Uint8Array(C+d.byteLength),W=p(this.buffer,this.position);F.set(W,0);var se=new Uint8Array(d);F.set(se,C),this.buffer=F,this.position=0}for(;;){if(!h(this.buffer,this.position,5))return w;var U=p(this.buffer,this.position,this.position+5),G=new DataView(U.buffer,U.byteOffset,U.byteLength),Se=f(G);if(!h(this.buffer,this.position,5+Se))return w;var _i=p(this.buffer,this.position+5,this.position+5+Se);if(this.position+=5+Se,c(G))return w.push({chunkType:o.TRAILERS,trailers:(g=_i,new s.Metadata(u(g)))}),w;w.push({chunkType:o.MESSAGE,data:_i})}},l}();n.ChunkParser=y},8:function(t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.httpStatusToCode=n.Code=void 0,function(o){o[o.OK=0]="OK",o[o.Canceled=1]="Canceled",o[o.Unknown=2]="Unknown",o[o.InvalidArgument=3]="InvalidArgument",o[o.DeadlineExceeded=4]="DeadlineExceeded",o[o.NotFound=5]="NotFound",o[o.AlreadyExists=6]="AlreadyExists",o[o.PermissionDenied=7]="PermissionDenied",o[o.ResourceExhausted=8]="ResourceExhausted",o[o.FailedPrecondition=9]="FailedPrecondition",o[o.Aborted=10]="Aborted",o[o.OutOfRange=11]="OutOfRange",o[o.Unimplemented=12]="Unimplemented",o[o.Internal=13]="Internal",o[o.Unavailable=14]="Unavailable",o[o.DataLoss=15]="DataLoss",o[o.Unauthenticated=16]="Unauthenticated"}(i=n.Code||(n.Code={})),n.httpStatusToCode=function(o){switch(o){case 0:return i.Internal;case 200:return i.OK;case 400:return i.InvalidArgument;case 401:return i.Unauthenticated;case 403:return i.PermissionDenied;case 404:return i.NotFound;case 409:return i.Aborted;case 412:return i.FailedPrecondition;case 429:return i.ResourceExhausted;case 499:return i.Canceled;case 500:return i.Unknown;case 501:return i.Unimplemented;case 503:return i.Unavailable;case 504:return i.DeadlineExceeded;default:return i.Unknown}}},934:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.client=void 0;var o=i(65),s=i(617),a=i(8),u=i(346),c=i(57),f=i(882);n.client=function(y,l){return new h(y,l)};var h=function(){function y(l,d){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new s.ChunkParser,this.methodDefinition=l,this.props=d,this.createTransport()}return y.prototype.createTransport=function(){var l=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,d={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:l,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(d):this.transport=c.makeDefaultTransport(d)},y.prototype.onTransportHeaders=function(l,d){if(this.props.debug&&u.debug("onHeaders",l,d),this.closed)this.props.debug&&u.debug("grpc.onHeaders received after request was closed - ignoring");else if(d!==0){this.responseHeaders=l,this.props.debug&&u.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var m=p(l);this.props.debug&&u.debug("onHeaders.gRPCStatus",m);var g=m&&m>=0?m:a.httpStatusToCode(d);this.props.debug&&u.debug("onHeaders.code",g);var w=l.get("grpc-message")||[];if(this.props.debug&&u.debug("onHeaders.gRPCMessage",w),this.rawOnHeaders(l),g!==a.Code.OK){var C=this.decodeGRPCStatus(w[0]);this.rawOnError(g,C,l)}}},y.prototype.onTransportChunk=function(l){var d=this;if(this.closed)this.props.debug&&u.debug("grpc.onChunk received after request was closed - ignoring");else{var m=[];try{m=this.parser.parse(l)}catch(g){return this.props.debug&&u.debug("onChunk.parsing error",g,g.message),void this.rawOnError(a.Code.Internal,"parsing error: "+g.message)}m.forEach(function(g){if(g.chunkType===s.ChunkType.MESSAGE){var w=d.methodDefinition.responseType.deserializeBinary(g.data);d.rawOnMessage(w)}else g.chunkType===s.ChunkType.TRAILERS&&(d.responseHeaders?(d.responseTrailers=new o.Metadata(g.trailers),d.props.debug&&u.debug("onChunk.trailers",d.responseTrailers)):(d.responseHeaders=new o.Metadata(g.trailers),d.rawOnHeaders(d.responseHeaders)))})}},y.prototype.onTransportEnd=function(){if(this.props.debug&&u.debug("grpc.onEnd"),this.closed)this.props.debug&&u.debug("grpc.onEnd received after request was closed - ignoring");else if(this.responseTrailers!==void 0){var l=p(this.responseTrailers);if(l!==null){var d=this.responseTrailers.get("grpc-message"),m=this.decodeGRPCStatus(d[0]);this.rawOnEnd(l,m,this.responseTrailers)}else this.rawOnError(a.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(this.responseHeaders===void 0)return void this.rawOnError(a.Code.Unknown,"Response closed without headers");var g=p(this.responseHeaders),w=this.responseHeaders.get("grpc-message");if(this.props.debug&&u.debug("grpc.headers only response ",g,w),g===null)return void this.rawOnEnd(a.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var C=this.decodeGRPCStatus(w[0]);this.rawOnEnd(g,C,this.responseHeaders)}},y.prototype.decodeGRPCStatus=function(l){if(!l)return"";try{return decodeURIComponent(l)}catch{return l}},y.prototype.rawOnEnd=function(l,d,m){var g=this;this.props.debug&&u.debug("rawOnEnd",l,d,m),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(w){if(!g.closed)try{w(l,d,m)}catch(C){setTimeout(function(){throw C},0)}}))},y.prototype.rawOnHeaders=function(l){this.props.debug&&u.debug("rawOnHeaders",l),this.completed||this.onHeadersCallbacks.forEach(function(d){try{d(l)}catch(m){setTimeout(function(){throw m},0)}})},y.prototype.rawOnError=function(l,d,m){var g=this;m===void 0&&(m=new o.Metadata),this.props.debug&&u.debug("rawOnError",l,d),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(w){if(!g.closed)try{w(l,d,m)}catch(C){setTimeout(function(){throw C},0)}}))},y.prototype.rawOnMessage=function(l){var d=this;this.props.debug&&u.debug("rawOnMessage",l.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach(function(m){if(!d.closed)try{m(l)}catch(g){setTimeout(function(){throw g},0)}})},y.prototype.onHeaders=function(l){this.onHeadersCallbacks.push(l)},y.prototype.onMessage=function(l){this.onMessageCallbacks.push(l)},y.prototype.onEnd=function(l){this.onEndCallbacks.push(l)},y.prototype.start=function(l){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var d=new o.Metadata(l||{});d.set("content-type","application/grpc-web+proto"),d.set("x-grpc-web","1"),this.transport.start(d)},y.prototype.send=function(l){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var d=f.frameRequest(l);this.transport.sendMessage(d)},y.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},y.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&u.debug("request.abort aborting request"),this.transport.cancel()},y}();function p(y){var l=y.get("grpc-status")||[];if(l.length>0)try{var d=l[0];return parseInt(d,10)}catch{return null}return null}},346:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.debug=void 0,n.debug=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];console.debug?console.debug.apply(null,i):console.log.apply(null,i)}},607:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.grpc=void 0;var o,s=i(418),a=i(57),u=i(229),c=i(540),f=i(210),h=i(859),p=i(8),y=i(938),l=i(35),d=i(934);(o=n.grpc||(n.grpc={})).setDefaultTransport=a.setDefaultTransportFactory,o.CrossBrowserHttpTransport=h.CrossBrowserHttpTransport,o.FetchReadableStreamTransport=u.FetchReadableStreamTransport,o.XhrTransport=f.XhrTransport,o.WebsocketTransport=c.WebsocketTransport,o.Code=p.Code,o.Metadata=s.BrowserHeaders,o.client=function(m,g){return d.client(m,g)},o.invoke=y.invoke,o.unary=l.unary},938:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.invoke=void 0;var o=i(934);n.invoke=function(s,a){if(s.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var u=o.client(s,{host:a.host,transport:a.transport,debug:a.debug});return a.onHeaders&&u.onHeaders(a.onHeaders),a.onMessage&&u.onMessage(a.onMessage),a.onEnd&&u.onEnd(a.onEnd),u.start(a.metadata),u.send(a.request),u.finishSend(),{close:function(){u.close()}}}},65:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Metadata=void 0;var o=i(418);Object.defineProperty(n,"Metadata",{enumerable:!0,get:function(){return o.BrowserHeaders}})},57:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.makeDefaultTransport=n.setDefaultTransportFactory=void 0;var o=i(859),s=function(a){return o.CrossBrowserHttpTransport({withCredentials:!1})(a)};n.setDefaultTransportFactory=function(a){s=a},n.makeDefaultTransport=function(a){return s(a)}},229:function(t,n,i){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(c){for(var f,h=1,p=arguments.length;h<p;h++)for(var y in f=arguments[h])Object.prototype.hasOwnProperty.call(f,y)&&(c[y]=f[y]);return c}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.detectFetchSupport=n.FetchReadableStreamTransport=void 0;var s=i(65),a=i(346);n.FetchReadableStreamTransport=function(c){return function(f){return function(h,p){return h.debug&&a.debug("fetchRequest",h),new u(h,p)}(f,c)}};var u=function(){function c(f,h){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=f,this.init=h}return c.prototype.pump=function(f,h){var p=this;if(this.reader=f,this.cancelled)return this.options.debug&&a.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch(function(y){p.options.debug&&a.debug("Fetch.pump.reader.cancel exception",y)});this.reader.read().then(function(y){if(y.done)return p.options.onEnd(),h;p.options.onChunk(y.value),p.pump(p.reader,h)}).catch(function(y){p.cancelled?p.options.debug&&a.debug("Fetch.catch - request cancelled"):(p.cancelled=!0,p.options.debug&&a.debug("Fetch.catch",y.message),p.options.onEnd(y))})},c.prototype.send=function(f){var h=this;fetch(this.options.url,o(o({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:f,signal:this.controller&&this.controller.signal})).then(function(p){if(h.options.debug&&a.debug("Fetch.response",p),h.options.onHeaders(new s.Metadata(p.headers),p.status),!p.body)return p;h.pump(p.body.getReader(),p)}).catch(function(p){h.cancelled?h.options.debug&&a.debug("Fetch.catch - request cancelled"):(h.cancelled=!0,h.options.debug&&a.debug("Fetch.catch",p.message),h.options.onEnd(p))})},c.prototype.sendMessage=function(f){this.send(f)},c.prototype.finishSend=function(){},c.prototype.start=function(f){this.metadata=f},c.prototype.cancel=function(){var f=this;this.cancelled?this.options.debug&&a.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&a.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&a.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&a.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch(function(h){f.options.debug&&a.debug("Fetch.cancel.reader.cancel exception",h)})):this.options.debug&&a.debug("Fetch.cancel before reader"))},c}();n.detectFetchSupport=function(){return typeof Response<"u"&&Response.prototype.hasOwnProperty("body")&&typeof Headers=="function"}},859:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CrossBrowserHttpTransport=void 0;var o=i(229),s=i(210);n.CrossBrowserHttpTransport=function(a){if(o.detectFetchSupport()){var u={credentials:a.withCredentials?"include":"same-origin"};return o.FetchReadableStreamTransport(u)}return s.XhrTransport({withCredentials:a.withCredentials})}},210:function(t,n,i){"use strict";var o,s=this&&this.__extends||(o=function(l,d){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(m[w]=g[w])})(l,d)},function(l,d){function m(){this.constructor=l}o(l,d),l.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)});Object.defineProperty(n,"__esModule",{value:!0}),n.stringToArrayBuffer=n.MozChunkedArrayBufferXHR=n.XHR=n.XhrTransport=void 0;var a=i(65),u=i(346),c=i(849);n.XhrTransport=function(l){return function(d){if(c.detectMozXHRSupport())return new h(d,l);if(c.detectXHROverrideMimeTypeSupport())return new f(d,l);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var f=function(){function l(d,m){this.options=d,this.init=m}return l.prototype.onProgressEvent=function(){this.options.debug&&u.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var d=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var m=y(d);this.options.onChunk(m)},l.prototype.onLoadEvent=function(){this.options.debug&&u.debug("XHR.onLoadEvent"),this.options.onEnd()},l.prototype.onStateChange=function(){this.options.debug&&u.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new a.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},l.prototype.sendMessage=function(d){this.xhr.send(d)},l.prototype.finishSend=function(){},l.prototype.start=function(d){var m=this;this.metadata=d;var g=new XMLHttpRequest;this.xhr=g,g.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach(function(w,C){g.setRequestHeader(w,C.join(", "))}),g.withCredentials=Boolean(this.init.withCredentials),g.addEventListener("readystatechange",this.onStateChange.bind(this)),g.addEventListener("progress",this.onProgressEvent.bind(this)),g.addEventListener("loadend",this.onLoadEvent.bind(this)),g.addEventListener("error",function(w){m.options.debug&&u.debug("XHR.error",w),m.options.onEnd(w.error)})},l.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},l.prototype.cancel=function(){this.options.debug&&u.debug("XHR.abort"),this.xhr.abort()},l}();n.XHR=f;var h=function(l){function d(){return l!==null&&l.apply(this,arguments)||this}return s(d,l),d.prototype.configureXhr=function(){this.options.debug&&u.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},d.prototype.onProgressEvent=function(){var m=this.xhr.response;this.options.debug&&u.debug("MozXHR.onProgressEvent: ",new Uint8Array(m)),this.options.onChunk(new Uint8Array(m))},d}(f);function p(l,d){var m=l.charCodeAt(d);if(m>=55296&&m<=56319){var g=l.charCodeAt(d+1);g>=56320&&g<=57343&&(m=65536+(m-55296<<10)+(g-56320))}return m}function y(l){for(var d=new Uint8Array(l.length),m=0,g=0;g<l.length;g++){var w=String.prototype.codePointAt?l.codePointAt(g):p(l,g);d[m++]=255&w}return d}n.MozChunkedArrayBufferXHR=h,n.stringToArrayBuffer=y},849:function(t,n){"use strict";var i;function o(){if(i!==void 0)return i;if(XMLHttpRequest){i=new XMLHttpRequest;try{i.open("GET","https://localhost")}catch{}}return i}function s(a){var u=o();if(!u)return!1;try{return u.responseType=a,u.responseType===a}catch{}return!1}Object.defineProperty(n,"__esModule",{value:!0}),n.detectXHROverrideMimeTypeSupport=n.detectMozXHRSupport=n.xhrSupportsResponseType=void 0,n.xhrSupportsResponseType=s,n.detectMozXHRSupport=function(){return typeof XMLHttpRequest<"u"&&s("moz-chunked-arraybuffer")},n.detectXHROverrideMimeTypeSupport=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WebsocketTransport=void 0;var o,s=i(346),a=i(617);(function(c){c[c.FINISH_SEND=1]="FINISH_SEND"})(o||(o={}));var u=new Uint8Array([1]);n.WebsocketTransport=function(){return function(c){return function(f){f.debug&&s.debug("websocketRequest",f);var h,p=function(d){if(d.substr(0,8)==="https://")return"wss://"+d.substr(8);if(d.substr(0,7)==="http://")return"ws://"+d.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(f.url),y=[];function l(d){if(d===o.FINISH_SEND)h.send(u);else{var m=d,g=new Int8Array(m.byteLength+1);g.set(new Uint8Array([0])),g.set(m,1),h.send(g)}}return{sendMessage:function(d){h&&h.readyState!==h.CONNECTING?l(d):y.push(d)},finishSend:function(){h&&h.readyState!==h.CONNECTING?l(o.FINISH_SEND):y.push(o.FINISH_SEND)},start:function(d){(h=new WebSocket(p,["grpc-websockets"])).binaryType="arraybuffer",h.onopen=function(){var m;f.debug&&s.debug("websocketRequest.onopen"),h.send((m="",d.forEach(function(g,w){m+=g+": "+w.join(", ")+`\r
`}),a.encodeASCII(m))),y.forEach(function(g){l(g)})},h.onclose=function(m){f.debug&&s.debug("websocketRequest.onclose",m),f.onEnd()},h.onerror=function(m){f.debug&&s.debug("websocketRequest.onerror",m)},h.onmessage=function(m){f.onChunk(new Uint8Array(m.data))}},cancel:function(){f.debug&&s.debug("websocket.abort"),h.close()}}}(c)}}},35:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.unary=void 0;var o=i(65),s=i(934);n.unary=function(a,u){if(a.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(a.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var c=null,f=null,h=s.client(a,{host:u.host,transport:u.transport,debug:u.debug});return h.onHeaders(function(p){c=p}),h.onMessage(function(p){f=p}),h.onEnd(function(p,y,l){u.onEnd({status:p,statusMessage:y,headers:c||new o.Metadata,message:f,trailers:l})}),h.start(u.metadata),h.send(u.request),h.finishSend(),{close:function(){h.close()}}}},882:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.frameRequest=void 0,n.frameRequest=function(i){var o=i.serializeBinary(),s=new ArrayBuffer(o.byteLength+5);return new DataView(s,1,4).setUint32(0,o.length,!1),new Uint8Array(s,5).set(o),new Uint8Array(s)}}},e={},function t(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return r[n].call(i.exports,i,i.exports,t),i.exports}(607);var r,e})});var mr=b((kp,fa)=>{"use strict";async function*Fl(r,e={}){let t=r.getReader();try{for(;;){let n=await t.read();if(n.done)return;yield n.value}}finally{e.preventCancel!==!0&&t.cancel(),t.releaseLock()}}fa.exports=Fl});var ha=b((Rp,da)=>{"use strict";var la=mr();function Il(r){return typeof r.stream=="function"?la(r.stream()):la(new Response(r).body)}da.exports=Il});var fi=b((Np,pa)=>{"use strict";function Bl(r){let[e,t]=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>e.next(),push:i=>{n.push(i)},next:()=>n.length?{done:!1,value:n.shift()}:e.next(),[t](){return this}}}pa.exports=Bl});var ma=b((Fp,ya)=>{"use strict";var Pl=async r=>{let e=[];for await(let t of r)e.push(t);return e};ya.exports=Pl});var li=b((Ip,ga)=>{"use strict";var Ml=async function*(r,e){for await(let t of r)yield e(t)};ga.exports=Ml});var xa=b((zp,_a)=>{"use strict";_a.exports=An()});var Za=b((ey,_r)=>{var Ra,Na,Fa,Ia,Ba,Pa,Ma,qa,za,Er,bi,La,ja,$a,nt,Ua,Ha,Va,Ja,Xa,Wa,Ga,Ka,Ya,Sr;(function(r){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof _r=="object"&&typeof _r.exports=="object"?r(t(e,t(_r.exports))):r(t(e));function t(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,s){return n[o]=i?i(o,s):s}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])};Ra=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},Na=Object.assign||function(n){for(var i,o=1,s=arguments.length;o<s;o++){i=arguments[o];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},Fa=function(n,i){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&i.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)i.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(o[s[a]]=n[s[a]]);return o},Ia=function(n,i,o,s){var a=arguments.length,u=a<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,o):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,i,o,s);else for(var f=n.length-1;f>=0;f--)(c=n[f])&&(u=(a<3?c(u):a>3?c(i,o,u):c(i,o))||u);return a>3&&u&&Object.defineProperty(i,o,u),u},Ba=function(n,i){return function(o,s){i(o,s,n)}},Pa=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},Ma=function(n,i,o,s){function a(u){return u instanceof o?u:new o(function(c){c(u)})}return new(o||(o=Promise))(function(u,c){function f(y){try{p(s.next(y))}catch(l){c(l)}}function h(y){try{p(s.throw(y))}catch(l){c(l)}}function p(y){y.done?u(y.value):a(y.value).then(f,h)}p((s=s.apply(n,i||[])).next())})},qa=function(n,i){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(y){return h([p,y])}}function h(p){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,a&&(u=p[0]&2?a.return:p[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,p[1])).done)return u;switch(a=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return o.label++,{value:p[1],done:!1};case 5:o.label++,a=p[1],p=[0];continue;case 7:p=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){o=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){o.label=p[1];break}if(p[0]===6&&o.label<u[1]){o.label=u[1],u=p;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(p);break}u[2]&&o.ops.pop(),o.trys.pop();continue}p=i.call(n,o)}catch(y){p=[6,y],a=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},za=function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&Sr(i,n,o)},Sr=Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]},Er=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&n[i],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},bi=function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,u=[],c;try{for(;(i===void 0||i-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(f){c={error:f}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(c)throw c.error}}return u},La=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(bi(arguments[i]));return n},ja=function(){for(var n=0,i=0,o=arguments.length;i<o;i++)n+=arguments[i].length;for(var s=Array(n),a=0,i=0;i<o;i++)for(var u=arguments[i],c=0,f=u.length;c<f;c++,a++)s[a]=u[c];return s},$a=function(n,i,o){if(o||arguments.length===2)for(var s=0,a=i.length,u;s<a;s++)(u||!(s in i))&&(u||(u=Array.prototype.slice.call(i,0,s)),u[s]=i[s]);return n.concat(u||Array.prototype.slice.call(i))},nt=function(n){return this instanceof nt?(this.v=n,this):new nt(n)},Ua=function(n,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,i||[]),a,u=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(d){s[d]&&(a[d]=function(m){return new Promise(function(g,w){u.push([d,m,g,w])>1||f(d,m)})})}function f(d,m){try{h(s[d](m))}catch(g){l(u[0][3],g)}}function h(d){d.value instanceof nt?Promise.resolve(d.value.v).then(p,y):l(u[0][2],d)}function p(d){f("next",d)}function y(d){f("throw",d)}function l(d,m){d(m),u.shift(),u.length&&f(u[0][0],u[0][1])}},Ha=function(n){var i,o;return i={},s("next"),s("throw",function(a){throw a}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(a,u){i[a]=n[a]?function(c){return(o=!o)?{value:nt(n[a](c)),done:a==="return"}:u?u(c):c}:u}},Va=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],o;return i?i.call(n):(n=typeof Er=="function"?Er(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(u){o[u]=n[u]&&function(c){return new Promise(function(f,h){c=n[u](c),a(f,h,c.done,c.value)})}}function a(u,c,f,h){Promise.resolve(h).then(function(p){u({value:p,done:f})},c)}},Ja=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var t=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};Xa=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&Sr(i,n,o);return t(i,n),i},Wa=function(n){return n&&n.__esModule?n:{default:n}},Ga=function(n,i,o,s){if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?s:o==="a"?s.call(n):s?s.value:i.get(n)},Ka=function(n,i,o,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!a:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(n,o):a?a.value=o:i.set(n,o),o},Ya=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},r("__extends",Ra),r("__assign",Na),r("__rest",Fa),r("__decorate",Ia),r("__param",Ba),r("__metadata",Pa),r("__awaiter",Ma),r("__generator",qa),r("__exportStar",za),r("__createBinding",Sr),r("__values",Er),r("__read",bi),r("__spread",La),r("__spreadArrays",ja),r("__spreadArray",$a),r("__await",nt),r("__asyncGenerator",Ua),r("__asyncDelegator",Ha),r("__asyncValues",Va),r("__makeTemplateObject",Ja),r("__importStar",Xa),r("__importDefault",Wa),r("__classPrivateFieldGet",Ga),r("__classPrivateFieldSet",Ka),r("__classPrivateFieldIn",Ya)})});var cu=b((Uy,uu)=>{"use strict";uu.exports=function(){return Date.now()}});var lu=b((Hy,fu)=>{"use strict";var Or=cu(),vi=class{constructor(e,t,n){let i=this;this._started=Or(),this._rescheduled=0,this._scheduled=t,this._args=n,this._triggered=!1,this._timerWrapper=()=>{i._rescheduled>0?(i._scheduled=i._rescheduled-(Or()-i._started),i._schedule(i._scheduled)):(i._triggered=!0,e.apply(null,i._args))},this._timer=setTimeout(this._timerWrapper,t)}reschedule(e){e||(e=this._scheduled);let t=Or();t+e-(this._started+this._scheduled)<0?(clearTimeout(this._timer),this._schedule(e)):this._triggered?this._schedule(e):(this._started=t,this._rescheduled=e)}_schedule(e){this._triggered=!1,this._started=Or(),this._rescheduled=0,this._scheduled=e,this._timer=setTimeout(this._timerWrapper,e)}clear(){clearTimeout(this._timer)}};function Hl(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("timeout needed");let r;if(arguments.length>0){r=new Array(arguments.length-2);for(var e=0;e<r.length;e++)r[e]=arguments[e+2]}return new vi(arguments[0],arguments[1],r)}fu.exports=Hl});var pu=b((Vy,hu)=>{"use strict";var{AbortController:Vl}=globalThis,du=lu(),kt=class extends Vl{constructor(e){super(),this._ms=e,this._timer=du(()=>this.abort(),e),Object.setPrototypeOf(this,kt.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=du(()=>this.abort(),this._ms)}};hu.exports={TimeoutController:kt}});var mu=b((Jy,wi)=>{function yu(r){let e=new globalThis.AbortController;function t(){e.abort();for(let n of r)!n||!n.removeEventListener||n.removeEventListener("abort",t)}for(let n of r)if(!(!n||!n.addEventListener)){if(n.aborted){t();break}n.addEventListener("abort",t)}return e.signal}wi.exports=yu;wi.exports.anySignal=yu});var Di=b((nm,Eu)=>{"use strict";var Kl=async r=>{for await(let e of r)return e};Eu.exports=Kl});var nd={};V(nd,{create:()=>rd});var Oi="[a-fA-F\\d:]",_e=r=>r&&r.includeBoundaries?`(?:(?<=\\s|^)(?=${Oi})|(?<=${Oi})(?=\\s|$))`:"",re="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",I="[a-fA-F\\d]{1,4}",Pt=`
(?:
(?:${I}:){7}(?:${I}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${I}:){6}(?:${re}|:${I}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${I}:){5}(?::${re}|(?::${I}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${I}:){4}(?:(?::${I}){0,1}:${re}|(?::${I}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${I}:){3}(?:(?::${I}){0,2}:${re}|(?::${I}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${I}:){2}(?:(?::${I}){0,3}:${re}|(?::${I}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${I}:){1}(?:(?::${I}){0,4}:${re}|(?::${I}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${I}){0,5}:${re}|(?::${I}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),Uu=new RegExp(`(?:^${re}$)|(?:^${Pt}$)`),Hu=new RegExp(`^${re}$`),Vu=new RegExp(`^${Pt}$`),Cr=r=>r&&r.exact?Uu:new RegExp(`(?:${_e(r)}${re}${_e(r)})|(?:${_e(r)}${Pt}${_e(r)})`,"g");Cr.v4=r=>r&&r.exact?Hu:new RegExp(`${_e(r)}${re}${_e(r)}`,"g");Cr.v6=r=>r&&r.exact?Vu:new RegExp(`${_e(r)}${Pt}${_e(r)}`,"g");var Mt=Cr;function kr(r){let e=(...t)=>r(...t);return Object.defineProperty(e,"name",{value:`functionTimeout(${r.name||"<anonymous>"})`,configurable:!0}),e}function Ti(){return!1}var{toString:Ju}=Object.prototype;function Rr(r){return Ju.call(r)==="[object RegExp]"}var Ai={global:"g",ignoreCase:"i",multiline:"m",dotAll:"s",sticky:"y",unicode:"u"};function Nr(r,e={}){if(!Rr(r))throw new TypeError("Expected a RegExp instance");let t=Object.keys(Ai).map(i=>(typeof e[i]=="boolean"?e[i]:r[i])?Ai[i]:"").join(""),n=new RegExp(e.source||r.source,t);return n.lastIndex=typeof e.lastIndex=="number"?e.lastIndex:r.lastIndex,n}function qt(r,e,{timeout:t}={}){try{return kr(()=>Nr(r).test(e),{timeout:t})()}catch(n){if(Ti(n))return!1;throw n}}var Xu=15,Ci=45,Fr={timeout:400};function zt(r){return qt(Mt({exact:!0}),r.slice(0,Ci),Fr)}function ki(r){return qt(Mt.v6({exact:!0}),r.slice(0,Ci),Fr)}function Ri(r){return qt(Mt.v4({exact:!0}),r.slice(0,Xu),Fr)}var qr={};V(qr,{identity:()=>Qu});function Wu(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(t[s]!==255)throw new TypeError(o+" is ambiguous");t[s]=i}var a=r.length,u=r.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";for(var d=0,m=0,g=0,w=l.length;g!==w&&l[g]===0;)g++,d++;for(var C=(w-g)*f+1>>>0,F=new Uint8Array(C);g!==w;){for(var W=l[g],se=0,U=C-1;(W!==0||se<m)&&U!==-1;U--,se++)W+=256*F[U]>>>0,F[U]=W%a>>>0,W=W/a>>>0;if(W!==0)throw new Error("Non-zero carry");m=se,g++}for(var G=C-m;G!==C&&F[G]===0;)G++;for(var Se=u.repeat(d);G<C;++G)Se+=r.charAt(F[G]);return Se}function p(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;var d=0;if(l[d]!==" "){for(var m=0,g=0;l[d]===u;)m++,d++;for(var w=(l.length-d)*c+1>>>0,C=new Uint8Array(w);l[d];){var F=t[l.charCodeAt(d)];if(F===255)return;for(var W=0,se=w-1;(F!==0||W<g)&&se!==-1;se--,W++)F+=a*C[se]>>>0,C[se]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");g=W,d++}if(l[d]!==" "){for(var U=w-g;U!==w&&C[U]===0;)U++;for(var G=new Uint8Array(m+(w-U)),Se=m;U!==w;)G[Se++]=C[U++];return G}}}function y(l){var d=p(l);if(d)return d;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:p,decode:y}}var Gu=Wu,Ku=Gu,Ni=Ku;var wd=new Uint8Array(0);var Fi=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},ye=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")};var Ii=r=>new TextEncoder().encode(r),Bi=r=>new TextDecoder().decode(r);var Ir=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Br=class{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Mi(this,e)}},Pr=class{constructor(e){this.decoders=e}or(e){return Mi(this,e)}decode(e){let t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Mi=(r,e)=>new Pr({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),Mr=class{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new Ir(e,t,n),this.decoder=new Br(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},$e=({name:r,prefix:e,encode:t,decode:n})=>new Mr(r,e,t,n),xe=({prefix:r,name:e,alphabet:t})=>{let{encode:n,decode:i}=Ni(t,e);return $e({prefix:r,name:e,encode:n,decode:o=>ye(i(o))})},Yu=(r,e,t,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let o=r.length;for(;r[o-1]==="=";)--o;let s=new Uint8Array(o*t/8|0),a=0,u=0,c=0;for(let f=0;f<o;++f){let h=i[r[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<t|h,a+=t,a>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=t||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s},Zu=(r,e,t)=>{let n=e[e.length-1]==="=",i=(1<<t)-1,o="",s=0,a=0;for(let u=0;u<r.length;++u)for(a=a<<8|r[u],s+=8;s>t;)s-=t,o+=e[i&a>>s];if(s&&(o+=e[i&a<<t-s]),n)for(;o.length*t&7;)o+="=";return o},k=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>$e({prefix:e,name:r,encode(i){return Zu(i,n,t)},decode(i){return Yu(i,n,t,r)}});var Qu=$e({prefix:"\0",name:"identity",encode:r=>Bi(r),decode:r=>Ii(r)});var zr={};V(zr,{base2:()=>ec});var ec=k({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Lr={};V(Lr,{base8:()=>tc});var tc=k({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var jr={};V(jr,{base10:()=>rc});var rc=xe({prefix:"9",name:"base10",alphabet:"0123456789"});var $r={};V($r,{base16:()=>nc,base16upper:()=>ic});var nc=k({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ic=k({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ur={};V(Ur,{base32:()=>me,base32hex:()=>uc,base32hexpad:()=>fc,base32hexpadupper:()=>lc,base32hexupper:()=>cc,base32pad:()=>sc,base32padupper:()=>ac,base32upper:()=>oc,base32z:()=>dc});var me=k({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),oc=k({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),sc=k({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ac=k({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),uc=k({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),cc=k({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),fc=k({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),lc=k({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dc=k({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Hr={};V(Hr,{base36:()=>hc,base36upper:()=>pc});var hc=xe({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),pc=xe({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Vr={};V(Vr,{base58btc:()=>q,base58flickr:()=>yc});var q=xe({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yc=xe({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Jr={};V(Jr,{base64:()=>mc,base64pad:()=>gc,base64url:()=>bc,base64urlpad:()=>vc});var mc=k({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),gc=k({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),bc=k({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),vc=k({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Xr={};V(Xr,{base256emoji:()=>_c});var qi=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),wc=qi.reduce((r,e,t)=>(r[t]=e,r),[]),Dc=qi.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Ec(r){return r.reduce((e,t)=>(e+=wc[t],e),"")}function Sc(r){let e=[];for(let t of r){let n=Dc[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}var _c=$e({prefix:"\u{1F680}",name:"base256emoji",encode:Ec,decode:Sc});var Yr={};V(Yr,{sha256:()=>jt,sha512:()=>Uc});var xc=ji,zi=128,Oc=127,Tc=~Oc,Ac=Math.pow(2,31);function ji(r,e,t){e=e||[],t=t||0;for(var n=t;r>=Ac;)e[t++]=r&255|zi,r/=128;for(;r&Tc;)e[t++]=r&255|zi,r>>>=7;return e[t]=r|0,ji.bytes=t-n+1,e}var Cc=Wr,kc=128,Li=127;function Wr(r,n){var t=0,n=n||0,i=0,o=n,s,a=r.length;do{if(o>=a)throw Wr.bytes=0,new RangeError("Could not decode varint");s=r[o++],t+=i<28?(s&Li)<<i:(s&Li)*Math.pow(2,i),i+=7}while(s>=kc);return Wr.bytes=o-n,t}var Rc=Math.pow(2,7),Nc=Math.pow(2,14),Fc=Math.pow(2,21),Ic=Math.pow(2,28),Bc=Math.pow(2,35),Pc=Math.pow(2,42),Mc=Math.pow(2,49),qc=Math.pow(2,56),zc=Math.pow(2,63),Lc=function(r){return r<Rc?1:r<Nc?2:r<Fc?3:r<Ic?4:r<Bc?5:r<Pc?6:r<Mc?7:r<qc?8:r<zc?9:10},jc={encode:xc,decode:Cc,encodingLength:Lc},$c=jc,at=$c;var ut=(r,e=0)=>[at.decode(r,e),at.decode.bytes],Ue=(r,e,t=0)=>(at.encode(r,e,t),e),He=r=>at.encodingLength(r);var Oe=(r,e)=>{let t=e.byteLength,n=He(r),i=n+He(t),o=new Uint8Array(i+t);return Ue(r,o,0),Ue(t,o,n),o.set(e,i),new Ve(r,t,e,o)},Fe=r=>{let e=ye(r),[t,n]=ut(e),[i,o]=ut(e.subarray(n)),s=e.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Ve(t,i,s,e)},$i=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&Fi(r.bytes,e.bytes),Ve=class{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}};var Kr=({name:r,code:e,encode:t})=>new Gr(r,e,t),Gr=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Oe(this.code,t):t.then(n=>Oe(this.code,n))}else throw Error("Unknown type, must be binary type")}};var Hi=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),jt=Kr({name:"sha2-256",code:18,encode:Hi("SHA-256")}),Uc=Kr({name:"sha2-512",code:19,encode:Hi("SHA-512")});var Zr={};V(Zr,{identity:()=>$t});var Vi=0,Hc="identity",Ji=ye,Vc=r=>Oe(Vi,Ji(r)),$t={code:Vi,name:Hc,encode:Ji,digest:Vc};var jd=new TextEncoder,$d=new TextDecoder;var O=class{constructor(e,t,n,i){this.code=t,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Ht,byteLength:Ht,code:Ut,version:Ut,multihash:Ut,bytes:Ut,_baseCache:Ht,asCID:Ht})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==ct)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Yc)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return O.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,n=Oe(e,t);return O.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&$i(this.multihash,e.multihash)}toString(e){let{bytes:t,version:n,_baseCache:i}=this;switch(n){case 0:return Gc(t,i,e||q.encoder);default:return Kc(t,i,e||me.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Qc(/^0\.0/,ef),!!(e&&(e[Wi]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof O)return e;if(e!=null&&e.asCID===e){let{version:t,code:n,multihash:i,bytes:o}=e;return new O(t,n,i,o||Xi(t,n,i.bytes))}else if(e!=null&&e[Wi]===!0){let{version:t,multihash:n,code:i}=e,o=Fe(n);return O.create(t,i,o)}else return null}static create(e,t,n){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==ct)throw new Error(`Version 0 CID must use dag-pb (code: ${ct}) block encoding`);return new O(e,t,n,n.bytes)}case 1:{let i=Xi(e,t,n.bytes);return new O(e,t,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return O.create(0,ct,e)}static createV1(e,t){return O.create(1,e,t)}static decode(e){let[t,n]=O.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=O.inspectBytes(e),n=t.size-t.multihashSize,i=ye(e.subarray(n,n+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=i.subarray(t.multihashSize-t.digestSize),s=new Ve(t.multihashCode,t.digestSize,o,i);return[t.version===0?O.createV0(s):O.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,n=()=>{let[h,p]=ut(e.subarray(t));return t+=p,h},i=n(),o=ct;if(i===18?(i=0,t=0):i===1&&(o=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=t,a=n(),u=n(),c=t+u,f=c-s;return{version:i,codec:o,multihashCode:a,digestSize:u,multihashSize:f,size:c}}static parse(e,t){let[n,i]=Wc(e,t),o=O.decode(i);return o._baseCache.set(n,e),o}},Wc=(r,e)=>{switch(r[0]){case"Q":{let t=e||q;return[q.prefix,t.decode(`${q.prefix}${r}`)]}case q.prefix:{let t=e||q;return[q.prefix,t.decode(r)]}case me.prefix:{let t=e||me;return[me.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},Gc=(r,e,t)=>{let{prefix:n}=t;if(n!==q.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let i=e.get(n);if(i==null){let o=t.encode(r).slice(1);return e.set(n,o),o}else return i},Kc=(r,e,t)=>{let{prefix:n}=t,i=e.get(n);if(i==null){let o=t.encode(r);return e.set(n,o),o}else return i},ct=112,Yc=18,Xi=(r,e,t)=>{let n=He(r),i=n+He(e),o=new Uint8Array(i+t.byteLength);return Ue(r,o,0),Ue(e,o,n),o.set(t,i),o},Wi=Symbol.for("@ipld/js-cid/CID"),Ut={writable:!1,configurable:!1,enumerable:!0},Ht={writable:!1,enumerable:!1,configurable:!1},Zc="0.0.0-dev",Qc=(r,e)=>{if(r.test(Zc))console.warn(e);else throw new Error(e)},ef=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var Te={...qr,...zr,...Lr,...jr,...$r,...Ur,...Hr,...Vr,...Jr,...Xr},Kd={...Yr,...Zr};function Vt(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function Ki(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}var Gi=Ki("utf8","u",r=>{let e=new TextDecoder("utf8");return"u"+e.decode(r)},r=>new TextEncoder().encode(r.substring(1))),Qr=Ki("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=Vt(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),tf={utf8:Gi,"utf-8":Gi,hex:Te.base16,latin1:Qr,ascii:Qr,binary:Qr,...Te},Jt=tf;function z(r,e="utf8"){let t=Jt[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var Yi=Ri,rf=ki,en=function(r){let e=0;if(r=r.toString().trim(),Yi(r)){let t=new Uint8Array(e+4);return r.split(/\./g).forEach(n=>{t[e++]=parseInt(n,10)&255}),t}if(rf(r)){let t=r.split(":",8),n;for(n=0;n<t.length;n++){let o=Yi(t[n]),s;o&&(s=en(t[n]),t[n]=z(s.slice(0,2),"base16")),s!=null&&++n<8&&t.splice(n,0,z(s.slice(2,4),"base16"))}if(t[0]==="")for(;t.length<8;)t.unshift("0");else if(t[t.length-1]==="")for(;t.length<8;)t.push("0");else if(t.length<8){for(n=0;n<t.length&&t[n]!=="";n++);let o=[n,1];for(n=9-t.length;n>0;n--)o.push("0");t.splice.apply(t,o)}let i=new Uint8Array(e+16);for(n=0;n<t.length;n++){let o=parseInt(t[n],16);i[e++]=o>>8&255,i[e++]=o&255}return i}throw new Error("invalid ip address")},Zi=function(r,e=0,t){e=~~e,t=t??r.length-e;let n=new DataView(r.buffer);if(t===4){let i=[];for(let o=0;o<t;o++)i.push(r[e+o]);return i.join(".")}if(t===16){let i=[];for(let o=0;o<t;o+=2)i.push(n.getUint16(e+o).toString(16));return i.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""};var ft={},tn={},of=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,-1,"ip6zone"],[53,-1,"dns",!0],[54,-1,"dns4",!0],[55,-1,"dns6",!0],[56,-1,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,-1,"unix",!1,!0],[421,-1,"ipfs"],[421,-1,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,-1,"garlic64"],[460,0,"quic"],[465,0,"webtransport"],[466,-1,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,-1,"memory"]];of.forEach(r=>{let e=sf(...r);tn[e.code]=e,ft[e.name]=e});function sf(r,e,t,n,i){return{code:r,size:e,name:t,resolvable:Boolean(n),path:Boolean(i)}}function B(r){if(typeof r=="number"){if(tn[r]!=null)return tn[r];throw new Error(`no protocol with code: ${r}`)}else if(typeof r=="string"){if(ft[r]!=null)return ft[r];throw new Error(`no protocol with name: ${r}`)}throw new Error(`invalid protocol id type: ${typeof r}`)}var ae=T(Xt(),1);function lt(r,e="utf8"){let t=Jt[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}function ge(r,e){e||(e=r.reduce((i,o)=>i+o.length,0));let t=Vt(e),n=0;for(let i of r)t.set(i,n),n+=i.length;return t}function fo(r,e){switch(B(r).code){case 4:case 41:return Df(e);case 6:case 273:case 33:case 132:return ho(e).toString();case 53:case 54:case 55:case 56:case 400:case 777:return Sf(e);case 421:return Tf(e);case 444:return co(e);case 445:return co(e);case 466:return Of(e);default:return z(e,"base16")}}function lo(r,e){switch(B(r).code){case 4:return uo(e);case 41:return uo(e);case 6:case 273:case 33:case 132:return sn(parseInt(e,10));case 53:case 54:case 55:case 56:case 400:case 777:return Ef(e);case 421:return _f(e);case 444:return Af(e);case 445:return Cf(e);case 466:return xf(e);default:return lt(e,"base16")}}var on=Object.values(Te).map(r=>r.decoder),wf=function(){let r=on[0].or(on[1]);return on.slice(2).forEach(e=>r=r.or(e)),r}();function uo(r){if(!zt(r))throw new Error("invalid ip address");return en(r)}function Df(r){let e=Zi(r,0,r.length);if(e==null)throw new Error("ipBuff is required");if(!zt(e))throw new Error("invalid ip address");return e}function sn(r){let e=new ArrayBuffer(2);return new DataView(e).setUint16(0,r),new Uint8Array(e)}function ho(r){return new DataView(r.buffer).getUint16(r.byteOffset)}function Ef(r){let e=lt(r),t=Uint8Array.from(ae.default.encode(e.length));return ge([t,e],t.length+e.length)}function Sf(r){let e=ae.default.decode(r);if(r=r.slice(ae.default.decode.bytes),r.length!==e)throw new Error("inconsistent lengths");return z(r)}function _f(r){let e;r[0]==="Q"||r[0]==="1"?e=Fe(q.decode(`z${r}`)).bytes:e=O.parse(r).multihash.bytes;let t=Uint8Array.from(ae.default.encode(e.length));return ge([t,e],t.length+e.length)}function xf(r){let e=wf.decode(r),t=Uint8Array.from(ae.default.encode(e.length));return ge([t,e],t.length+e.length)}function Of(r){let e=ae.default.decode(r),t=r.slice(ae.default.decode.bytes);if(t.length!==e)throw new Error("inconsistent lengths");return"u"+z(t,"base64url")}function Tf(r){let e=ae.default.decode(r),t=r.slice(ae.default.decode.bytes);if(t.length!==e)throw new Error("inconsistent lengths");return z(t,"base58btc")}function Af(r){let e=r.split(":");if(e.length!==2)throw new Error(`failed to parse onion addr: ["'${e.join('", "')}'"]' does not contain a port number`);if(e[0].length!==16)throw new Error(`failed to parse onion addr: ${e[0]} not a Tor onion address.`);let t=me.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=sn(n);return ge([t,i],t.length+i.length)}function Cf(r){let e=r.split(":");if(e.length!==2)throw new Error(`failed to parse onion addr: ["'${e.join('", "')}'"]' does not contain a port number`);if(e[0].length!==56)throw new Error(`failed to parse onion addr: ${e[0]} not a Tor onion3 address.`);let t=me.decode(`b${e[0]}`),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=sn(n);return ge([t,i],t.length+i.length)}function co(r){let e=r.slice(0,r.length-2),t=r.slice(r.length-2),n=z(e,"base32"),i=ho(t);return`${n}:${i}`}var Je=T(Xt(),1);function kf(r){let e=[],t=r.split("/").slice(1);if(t.length===1&&t[0]==="")return[];for(let n=0;n<t.length;n++){let i=t[n],o=B(i);if(o.size===0){e.push([i]);continue}if(n++,n>=t.length)throw yo("invalid address: "+r);if(o.path===!0){e.push([i,ln(t.slice(n).join("/"))]);break}e.push([i,t[n]])}return e}function Rf(r){let e=[];return r.map(t=>{let n=Gt(t);return e.push(n.name),t.length>1&&t[1]!=null&&e.push(t[1]),null}),ln(e.join("/"))}function Nf(r){return r.map(e=>{Array.isArray(e)||(e=[e]);let t=Gt(e);return e.length>1?[t.code,lo(t.code,e[1])]:[t.code]})}function an(r){return r.map(e=>{let t=Gt(e);return e[1]!=null?[t.code,fo(t.code,e[1])]:[t.code]})}function un(r){return Wt(ge(r.map(e=>{let t=Gt(e),n=Uint8Array.from(Je.default.encode(t.code));return e.length>1&&e[1]!=null&&(n=ge([n,e[1]])),n})))}function cn(r,e){return r.size>0?r.size/8:r.size===0?0:Je.default.decode(e)+Je.default.decode.bytes}function dt(r){let e=[],t=0;for(;t<r.length;){let n=Je.default.decode(r,t),i=Je.default.decode.bytes,o=B(n),s=cn(o,r.slice(t+i));if(s===0){e.push([n]),t+=i;continue}let a=r.slice(t+i,t+i+s);if(t+=s+i,t>r.length)throw yo("Invalid address Uint8Array: "+z(r,"base16"));e.push([n,a])}return e}function fn(r){let e=dt(r),t=an(e);return Rf(t)}function Ff(r){r=ln(r);let e=kf(r),t=Nf(e);return un(t)}function po(r){return Ff(r)}function Wt(r){let e=If(r);if(e!=null)throw e;return Uint8Array.from(r)}function If(r){try{dt(r)}catch(e){return e}}function ln(r){return"/"+r.trim().split("/").filter(e=>e).join("/")}function yo(r){return new Error("Error parsing address: "+r)}function Gt(r){return B(r[0])}var dn=T(Xt(),1);var wo=T(Be(),1);function ht(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}var bo,Mf=Symbol.for("nodejs.util.inspect.custom"),vo=[B("dns").code,B("dns4").code,B("dns6").code,B("dnsaddr").code],qf=[B("p2p").code,B("ipfs").code],zf=new Map,Do=Symbol.for("@multiformats/js-multiaddr/multiaddr");function Lf(r){return Boolean(r?.[Do])}var be=class{constructor(e){if(this[bo]=!0,e==null&&(e=""),e instanceof Uint8Array)this.bytes=Wt(e);else if(typeof e=="string"){if(e.length>0&&e.charAt(0)!=="/")throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=po(e)}else if(Lf(e))this.bytes=Wt(e.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return fn(this.bytes)}toJSON(){return this.toString()}toOptions(){let e=this.protoCodes(),t=this.toString().split("/").slice(1),n,i;if(t.length>2)vo.includes(e[0])&&qf.includes(e[1])?(n=B("tcp").name,i=443):(n=B(t[2]).name,i=parseInt(t[3]));else if(vo.includes(e[0]))n=B("tcp").name,i=443;else throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e[0]===41||e[0]===55?6:4,host:t[1],transport:n,port:i}}protos(){return this.protoCodes().map(e=>Object.assign({},B(e)))}protoCodes(){let e=[],t=this.bytes,n=0;for(;n<t.length;){let i=dn.default.decode(t,n),o=dn.default.decode.bytes,s=B(i);n+=cn(s,t.slice(n+o))+o,e.push(i)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return dt(this.bytes)}stringTuples(){let e=dt(this.bytes);return an(e)}encapsulate(e){return e=new be(e),new be(this.toString()+e.toString())}decapsulate(e){let t=e.toString(),n=this.toString(),i=n.lastIndexOf(t);if(i<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new be(n.slice(0,i))}decapsulateCode(e){let t=this.tuples();for(let n=t.length-1;n>=0;n--)if(t[n][0]===e)return new be(un(t.slice(0,n)));return this}getPeerId(){try{let t=this.stringTuples().filter(n=>n[0]===ft.ipfs.code).pop();if(t?.[1]!=null){let n=t[1];return n[0]==="Q"||n[0]==="1"?z(q.decode(`z${n}`),"base58btc"):z(O.parse(n).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let e=null;try{e=this.stringTuples().filter(t=>B(t[0]).path===!0)[0][1],e==null&&(e=null)}catch{e=null}return e}equals(e){return ht(this.bytes,e.bytes)}async resolve(e){let t=this.protos().find(o=>o.resolvable);if(t==null)return[this];let n=zf.get(t.name);if(n==null)throw(0,wo.default)(new Error(`no available resolver for ${t.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await n(this,e)).map(o=>new be(o))}nodeAddress(){let e=this.toOptions();if(e.transport!=="tcp"&&e.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(e){let t=(e??this).protos();return!(t.length!==2||t[0].code!==4&&t[0].code!==41||t[1].code!==6&&t[1].code!==273)}[(bo=Do,Mf)](){return this.inspect()}inspect(){return"<Multiaddr "+z(this.bytes,"base16")+" - "+fn(this.bytes)+">"}};function Xe(r){return new be(r)}var Kt=(r,e)=>e,jf=(r,e,t,n)=>{if(n!=null&&n.assumeHttp===!1)return`tcp://${r}:${e}`;let i="tcp",o=`:${e}`;return t[t.length-1].protocol==="tcp"&&(i=e==="443"?"https":"http",o=e==="443"||e==="80"?"":o),`${i}://${r}${o}`},$f={ip4:Kt,ip6:(r,e,t,n)=>n.length===1&&n[0].protocol==="ip6"?e:`[${e}]`,tcp:(r,e,t,n,i)=>n.some(o=>["http","https","ws","wss"].includes(o.protocol))?`${r}:${e}`:jf(r,e,n,i),udp:(r,e)=>`udp://${r}:${e}`,dnsaddr:Kt,dns4:Kt,dns6:Kt,ipfs:(r,e)=>`${r}/ipfs/${e}`,p2p:(r,e)=>`${r}/p2p/${e}`,http:r=>`http://${r}`,https:r=>`https://${r}`,ws:r=>`ws://${r}`,wss:r=>`wss://${r}`,"p2p-websocket-star":r=>`${r}/p2p-websocket-star`,"p2p-webrtc-star":r=>`${r}/p2p-webrtc-star`,"p2p-webrtc-direct":r=>`${r}/p2p-webrtc-direct`};function Eo(r,e){let t=Xe(r),n=t.toString().split("/").slice(1);return t.tuples().map(i=>({protocol:n.shift()??"",content:i[1]!=null?n.shift()??"":""})).reduce((i,o,s,a)=>{let u=$f[o.protocol];if(u==null)throw new Error(`Unsupported protocol ${o.protocol}`);return u(i,o.content,s,a,e)},"")}function Yt(r){try{r=Eo(Xe(r))}catch{}return r=r.toString(),r}var So={nested:{ipfs:{nested:{FileType:{values:{DIRECTORY:0,FILE:1}},MFS:{methods:{ls:{requestType:"LsRequest",responseType:"LsResponse",responseStream:!0},write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse"}}},LsRequest:{fields:{path:{type:"string",id:1}}},LsResponse:{fields:{name:{type:"string",id:1},type:{type:"FileType",id:2},size:{type:"uint32",id:3},cid:{type:"string",id:4},mode:{type:"uint32",id:5},mtime:{type:"int32",id:6},mtimeNsecs:{type:"uint32",id:7}}},WriteRequest:{fields:{path:{type:"string",id:1},content:{type:"bytes",id:2}}},WriteResponse:{fields:{}},PubSub:{methods:{subscribe:{requestType:"SubscribeRequest",responseType:"SubscribeResponse",responseStream:!0},unsubscribe:{requestType:"UnSubscribeRequest",responseType:"UnSubscribeResponse"}}},SubscribeRequest:{fields:{topic:{type:"string",id:1}}},SubscribeResponse:{fields:{handler:{type:"string",id:1},from:{type:"string",id:2},sequenceNumber:{type:"bytes",id:3},data:{type:"bytes",id:4},topic:{type:"string",id:5},key:{type:"bytes",id:6},signature:{type:"bytes",id:7},type:{type:"string",id:8}}},UnSubscribeRequest:{fields:{topic:{type:"string",id:1},handlers:{rule:"repeated",type:"string",id:2}}},UnSubscribeResponse:{fields:{}},Root:{methods:{id:{requestType:"IdRequest",responseType:"IdResponse"},add:{requestType:"AddRequest",requestStream:!0,responseType:"AddResponse",responseStream:!0}}},AddResponseType:{values:{PROGRESS:0,RESULT:1}},IdRequest:{fields:{peerId:{type:"string",id:1}}},IdResponse:{fields:{id:{type:"string",id:1},publicKey:{type:"string",id:2},addresses:{rule:"repeated",type:"string",id:3},agentVersion:{type:"string",id:4},protocolVersion:{type:"string",id:5},protocols:{rule:"repeated",type:"string",id:6}}},AddRequest:{fields:{index:{type:"int32",id:1},type:{type:"FileType",id:2},path:{type:"string",id:3},mode:{type:"uint32",id:4},mtime:{type:"int32",id:5},mtimeNsecs:{type:"uint32",id:6},content:{type:"bytes",id:7}}},AddResponse:{fields:{type:{type:"AddResponseType",id:1},path:{type:"string",id:2},bytes:{type:"int32",id:3},cid:{type:"string",id:4},mode:{type:"uint32",id:5},mtime:{type:"int32",id:6},mtimeNsecs:{type:"uint32",id:7},size:{type:"uint32",id:8}}}}}}};var ai=T(aa(),1),{Service:Nl}=ai.default,ua={keepCase:!1,longs:String,enums:String,defaults:!1,oneofs:!0};function ca(){let r=ai.default.Root.fromJSON(So),e={};return Object.keys(r.nested.ipfs).filter(t=>r.nested.ipfs[t]instanceof Nl).map(t=>r.nested.ipfs[t]).forEach(t=>{let n={};e[t.name]=n,Object.keys(t.methods).forEach(i=>{let o=t.methods[i].resolve();n[i]={service:{serviceName:`ipfs.${t.name}`},methodName:i,requestStream:o.requestStream,responseStream:o.responseStream,requestType:{serializeBinary:s=>{let a=o.resolvedRequestType.fromObject(s);return o.resolvedRequestType.encode(a).finish()},deserializeBinary:s=>{let a=o.resolvedRequestType.decode(s),u=o.resolvedRequestType.toObject(a,ua);return Object.defineProperty(u,"toObject",{enumerable:!1,configurable:!1,value:()=>u}),u}},responseType:{serializeBinary:s=>{let a=o.resolvedResponseType.fromObject(s);return o.resolvedResponseType.encode(a).finish()},deserializeBinary:s=>{let a=o.resolvedResponseType.decode(s),u=o.resolvedResponseType.toObject(a,ua);return Object.defineProperty(u,"toObject",{enumerable:!1,configurable:!1,value:()=>u}),u}}}})}),e}var je=T(ci(),1);var ba=T(Be(),1);var va=T(mr(),1),wa=T(ha(),1),Da=T(fi(),1),Ea=T(ma(),1),Sa=T(li(),1);function et(r){return ArrayBuffer.isView(r)||r instanceof ArrayBuffer}function Tt(r){return r.constructor&&(r.constructor.name==="Blob"||r.constructor.name==="File")&&typeof r.stream=="function"}function di(r){return typeof r=="object"&&(r.path||r.content)}var At=r=>r&&typeof r.getReader=="function";async function*gr(r){yield r}async function br(r){if(et(r))return gr(hi(r));if(typeof r=="string"||r instanceof String)return gr(hi(r.toString()));if(Tt(r))return(0,wa.default)(r);if(At(r)&&(r=(0,va.default)(r)),Symbol.iterator in r||Symbol.asyncIterator in r){let e=(0,Da.default)(r),{value:t,done:n}=await e.peek();if(n)return gr(new Uint8Array(0));if(e.push(t),Number.isInteger(t))return gr(Uint8Array.from(await(0,Ea.default)(e)));if(et(t)||typeof t=="string"||t instanceof String)return(0,Sa.default)(e,hi)}throw(0,ba.default)(new Error(`Unexpected input: ${r}`),"ERR_UNEXPECTED_INPUT")}function hi(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer?new Uint8Array(r):Array.isArray(r)?Uint8Array.from(r):lt(r.toString())}var Ct=T(Be(),1),Ta=T(mr(),1),Aa=T(fi(),1),mi=T(li(),1);var Oa=T(Be(),1);var De=T(xa(),1),tt=De.default.Reader,pi=De.default.Writer,D=De.default.util,j=De.default.roots["ipfs-unixfs"]||(De.default.roots["ipfs-unixfs"]={}),ql=j.Data=(()=>{function r(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.Type=0,r.prototype.Data=D.newBuffer([]),r.prototype.filesize=D.Long?D.Long.fromBits(0,0,!0):0,r.prototype.blocksizes=D.emptyArray,r.prototype.hashType=D.Long?D.Long.fromBits(0,0,!0):0,r.prototype.fanout=D.Long?D.Long.fromBits(0,0,!0):0,r.prototype.mode=0,r.prototype.mtime=null,r.encode=function(t,n){if(n||(n=pi.create()),n.uint32(8).int32(t.Type),t.Data!=null&&Object.hasOwnProperty.call(t,"Data")&&n.uint32(18).bytes(t.Data),t.filesize!=null&&Object.hasOwnProperty.call(t,"filesize")&&n.uint32(24).uint64(t.filesize),t.blocksizes!=null&&t.blocksizes.length)for(var i=0;i<t.blocksizes.length;++i)n.uint32(32).uint64(t.blocksizes[i]);return t.hashType!=null&&Object.hasOwnProperty.call(t,"hashType")&&n.uint32(40).uint64(t.hashType),t.fanout!=null&&Object.hasOwnProperty.call(t,"fanout")&&n.uint32(48).uint64(t.fanout),t.mode!=null&&Object.hasOwnProperty.call(t,"mode")&&n.uint32(56).uint32(t.mode),t.mtime!=null&&Object.hasOwnProperty.call(t,"mtime")&&j.UnixTime.encode(t.mtime,n.uint32(66).fork()).ldelim(),n},r.decode=function(t,n){t instanceof tt||(t=tt.create(t));for(var i=n===void 0?t.len:t.pos+n,o=new j.Data;t.pos<i;){var s=t.uint32();switch(s>>>3){case 1:o.Type=t.int32();break;case 2:o.Data=t.bytes();break;case 3:o.filesize=t.uint64();break;case 4:if(o.blocksizes&&o.blocksizes.length||(o.blocksizes=[]),(s&7)===2)for(var a=t.uint32()+t.pos;t.pos<a;)o.blocksizes.push(t.uint64());else o.blocksizes.push(t.uint64());break;case 5:o.hashType=t.uint64();break;case 6:o.fanout=t.uint64();break;case 7:o.mode=t.uint32();break;case 8:o.mtime=j.UnixTime.decode(t,t.uint32());break;default:t.skipType(s&7);break}}if(!o.hasOwnProperty("Type"))throw D.ProtocolError("missing required 'Type'",{instance:o});return o},r.fromObject=function(t){if(t instanceof j.Data)return t;var n=new j.Data;switch(t.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(t.Data!=null&&(typeof t.Data=="string"?D.base64.decode(t.Data,n.Data=D.newBuffer(D.base64.length(t.Data)),0):t.Data.length&&(n.Data=t.Data)),t.filesize!=null&&(D.Long?(n.filesize=D.Long.fromValue(t.filesize)).unsigned=!0:typeof t.filesize=="string"?n.filesize=parseInt(t.filesize,10):typeof t.filesize=="number"?n.filesize=t.filesize:typeof t.filesize=="object"&&(n.filesize=new D.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(!0))),t.blocksizes){if(!Array.isArray(t.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var i=0;i<t.blocksizes.length;++i)D.Long?(n.blocksizes[i]=D.Long.fromValue(t.blocksizes[i])).unsigned=!0:typeof t.blocksizes[i]=="string"?n.blocksizes[i]=parseInt(t.blocksizes[i],10):typeof t.blocksizes[i]=="number"?n.blocksizes[i]=t.blocksizes[i]:typeof t.blocksizes[i]=="object"&&(n.blocksizes[i]=new D.LongBits(t.blocksizes[i].low>>>0,t.blocksizes[i].high>>>0).toNumber(!0))}if(t.hashType!=null&&(D.Long?(n.hashType=D.Long.fromValue(t.hashType)).unsigned=!0:typeof t.hashType=="string"?n.hashType=parseInt(t.hashType,10):typeof t.hashType=="number"?n.hashType=t.hashType:typeof t.hashType=="object"&&(n.hashType=new D.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(!0))),t.fanout!=null&&(D.Long?(n.fanout=D.Long.fromValue(t.fanout)).unsigned=!0:typeof t.fanout=="string"?n.fanout=parseInt(t.fanout,10):typeof t.fanout=="number"?n.fanout=t.fanout:typeof t.fanout=="object"&&(n.fanout=new D.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(!0))),t.mode!=null&&(n.mode=t.mode>>>0),t.mtime!=null){if(typeof t.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=j.UnixTime.fromObject(t.mtime)}return n},r.toObject=function(t,n){n||(n={});var i={};if((n.arrays||n.defaults)&&(i.blocksizes=[]),n.defaults){if(i.Type=n.enums===String?"Raw":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=D.newBuffer(i.Data))),D.Long){var o=new D.Long(0,0,!0);i.filesize=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.filesize=n.longs===String?"0":0;if(D.Long){var o=new D.Long(0,0,!0);i.hashType=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.hashType=n.longs===String?"0":0;if(D.Long){var o=new D.Long(0,0,!0);i.fanout=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.fanout=n.longs===String?"0":0;i.mode=0,i.mtime=null}if(t.Type!=null&&t.hasOwnProperty("Type")&&(i.Type=n.enums===String?j.Data.DataType[t.Type]:t.Type),t.Data!=null&&t.hasOwnProperty("Data")&&(i.Data=n.bytes===String?D.base64.encode(t.Data,0,t.Data.length):n.bytes===Array?Array.prototype.slice.call(t.Data):t.Data),t.filesize!=null&&t.hasOwnProperty("filesize")&&(typeof t.filesize=="number"?i.filesize=n.longs===String?String(t.filesize):t.filesize:i.filesize=n.longs===String?D.Long.prototype.toString.call(t.filesize):n.longs===Number?new D.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(!0):t.filesize),t.blocksizes&&t.blocksizes.length){i.blocksizes=[];for(var s=0;s<t.blocksizes.length;++s)typeof t.blocksizes[s]=="number"?i.blocksizes[s]=n.longs===String?String(t.blocksizes[s]):t.blocksizes[s]:i.blocksizes[s]=n.longs===String?D.Long.prototype.toString.call(t.blocksizes[s]):n.longs===Number?new D.LongBits(t.blocksizes[s].low>>>0,t.blocksizes[s].high>>>0).toNumber(!0):t.blocksizes[s]}return t.hashType!=null&&t.hasOwnProperty("hashType")&&(typeof t.hashType=="number"?i.hashType=n.longs===String?String(t.hashType):t.hashType:i.hashType=n.longs===String?D.Long.prototype.toString.call(t.hashType):n.longs===Number?new D.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(!0):t.hashType),t.fanout!=null&&t.hasOwnProperty("fanout")&&(typeof t.fanout=="number"?i.fanout=n.longs===String?String(t.fanout):t.fanout:i.fanout=n.longs===String?D.Long.prototype.toString.call(t.fanout):n.longs===Number?new D.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(!0):t.fanout),t.mode!=null&&t.hasOwnProperty("mode")&&(i.mode=t.mode),t.mtime!=null&&t.hasOwnProperty("mtime")&&(i.mtime=j.UnixTime.toObject(t.mtime,n)),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,De.default.util.toJSONOptions)},r.DataType=function(){let e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),r})(),Lp=j.UnixTime=(()=>{function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.Seconds=D.Long?D.Long.fromBits(0,0,!1):0,r.prototype.FractionalNanoseconds=0,r.encode=function(t,n){return n||(n=pi.create()),n.uint32(8).int64(t.Seconds),t.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(t,"FractionalNanoseconds")&&n.uint32(21).fixed32(t.FractionalNanoseconds),n},r.decode=function(t,n){t instanceof tt||(t=tt.create(t));for(var i=n===void 0?t.len:t.pos+n,o=new j.UnixTime;t.pos<i;){var s=t.uint32();switch(s>>>3){case 1:o.Seconds=t.int64();break;case 2:o.FractionalNanoseconds=t.fixed32();break;default:t.skipType(s&7);break}}if(!o.hasOwnProperty("Seconds"))throw D.ProtocolError("missing required 'Seconds'",{instance:o});return o},r.fromObject=function(t){if(t instanceof j.UnixTime)return t;var n=new j.UnixTime;return t.Seconds!=null&&(D.Long?(n.Seconds=D.Long.fromValue(t.Seconds)).unsigned=!1:typeof t.Seconds=="string"?n.Seconds=parseInt(t.Seconds,10):typeof t.Seconds=="number"?n.Seconds=t.Seconds:typeof t.Seconds=="object"&&(n.Seconds=new D.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber())),t.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=t.FractionalNanoseconds>>>0),n},r.toObject=function(t,n){n||(n={});var i={};if(n.defaults){if(D.Long){var o=new D.Long(0,0,!1);i.Seconds=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.Seconds=n.longs===String?"0":0;i.FractionalNanoseconds=0}return t.Seconds!=null&&t.hasOwnProperty("Seconds")&&(typeof t.Seconds=="number"?i.Seconds=n.longs===String?String(t.Seconds):t.Seconds:i.Seconds=n.longs===String?D.Long.prototype.toString.call(t.Seconds):n.longs===Number?new D.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber():t.Seconds),t.FractionalNanoseconds!=null&&t.hasOwnProperty("FractionalNanoseconds")&&(i.FractionalNanoseconds=t.FractionalNanoseconds),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,De.default.util.toJSONOptions)},r})(),jp=j.Metadata=(()=>{function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.MimeType="",r.encode=function(t,n){return n||(n=pi.create()),t.MimeType!=null&&Object.hasOwnProperty.call(t,"MimeType")&&n.uint32(10).string(t.MimeType),n},r.decode=function(t,n){t instanceof tt||(t=tt.create(t));for(var i=n===void 0?t.len:t.pos+n,o=new j.Metadata;t.pos<i;){var s=t.uint32();switch(s>>>3){case 1:o.MimeType=t.string();break;default:t.skipType(s&7);break}}return o},r.fromObject=function(t){if(t instanceof j.Metadata)return t;var n=new j.Metadata;return t.MimeType!=null&&(n.MimeType=String(t.MimeType)),n},r.toObject=function(t,n){n||(n={});var i={};return n.defaults&&(i.MimeType=""),t.MimeType!=null&&t.hasOwnProperty("MimeType")&&(i.MimeType=t.MimeType),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,De.default.util.toJSONOptions)},r})();var $p=parseInt("0644",8),Up=parseInt("0755",8);function vr(r){if(r!=null)return typeof r=="number"?r&4095:(r=r.toString(),r.substring(0,1)==="0"?parseInt(r,8)&4095:parseInt(r,10)&4095)}function wr(r){if(r==null)return;let e;if(r.secs!=null&&(e={secs:r.secs,nsecs:r.nsecs}),r.Seconds!=null&&(e={secs:r.Seconds,nsecs:r.FractionalNanoseconds}),Array.isArray(r)&&(e={secs:r[0],nsecs:r[1]}),r instanceof Date){let t=r.getTime(),n=Math.floor(t/1e3);e={secs:n,nsecs:(t-n*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(e,"secs")){if(e!=null&&e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw(0,Oa.default)(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}async function*Ca(r,e){if(typeof r=="string"||r instanceof String||et(r)||Tt(r)||r._readableState)throw(0,Ct.default)(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(At(r)&&(r=(0,Ta.default)(r)),Symbol.iterator in r||Symbol.asyncIterator in r){let t=(0,Aa.default)(r),{value:n,done:i}=await t.peek();if(i){yield*[];return}if(t.push(n),Number.isInteger(n))throw(0,Ct.default)(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState){yield*(0,mi.default)(t,o=>yi({content:o},e));return}if(et(n)){yield yi({content:t},e);return}if(di(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||At(n)||Tt(n)){yield*(0,mi.default)(t,o=>yi(o,e));return}}throw di(r)?(0,Ct.default)(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT"):(0,Ct.default)(new Error("Unexpected input: "+typeof r),"ERR_UNEXPECTED_INPUT")}async function yi(r,e){let{path:t,mode:n,mtime:i,content:o}=r,s={path:t||"",mode:vr(n),mtime:wr(i)};return o?s.content=await e(o):t||(s.content=await e(r)),s}function ka(r){return Ca(r,br)}var Dr=class{constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}},rt=class{constructor(e={}){this.hwm=e.splitLimit??16,this.head=new Dr(this.hwm),this.tail=this.head,this.size=0}calculateSize(e){return e?.byteLength!=null?e.byteLength:1}push(e){if(e?.value!=null&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){let t=this.head;this.head=t.next=new Dr(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next!=null){let t=this.tail.next;this.tail.next=null,this.tail=t,e=this.tail.shift()}return e?.value!=null&&(this.size-=this.calculateSize(e.value)),e}isEmpty(){return this.head.isEmpty()}};function gi(r={}){return Ll(t=>{let n=t.shift();if(n==null)return{done:!0};if(n.error!=null)throw n.error;return{done:n.done===!0,value:n.value}},r)}function Ll(r,e){e=e??{};let t=e.onEnd,n=new rt,i,o,s,a=async()=>n.isEmpty()?s?{done:!0}:await new Promise((d,m)=>{o=g=>{o=null,n.push(g);try{d(r(n))}catch(w){m(w)}return i}}):r(n),u=d=>o!=null?o(d):(n.push(d),i),c=d=>(n=new rt,o!=null?o({error:d}):(n.push({error:d}),i)),f=d=>{if(s)return i;if(e?.objectMode!==!0&&d?.byteLength==null)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return u({done:!1,value:d})},h=d=>s?i:(s=!0,d!=null?c(d):u({done:!0})),p=()=>(n=new rt,h(),{done:!0}),y=d=>(h(d),{done:!0});if(i={[Symbol.asyncIterator](){return this},next:a,return:p,throw:y,push:f,end:h,get readableLength(){return n.size}},t==null)return i;let l=i;return i={[Symbol.asyncIterator](){return this},next(){return l.next()},throw(d){return l.throw(d),t!=null&&(t(d),t=void 0),{done:!0}},return(){return l.return(),t!=null&&(t(),t=void 0),{done:!0}},push:f,end(d){return l.end(d),t!=null&&(t(d),t=void 0),i},get readableLength(){return l.readableLength}},i}var au=T(Be(),1);var Qa=T(Za(),1),{__extends:ty,__assign:xr,__rest:ry,__decorate:ny,__param:iy,__metadata:oy,__awaiter:sy,__generator:ay,__exportStar:uy,__createBinding:cy,__values:fy,__read:ly,__spread:dy,__spreadArrays:hy,__spreadArray:py,__await:yy,__asyncGenerator:my,__asyncDelegator:gy,__asyncValues:by,__makeTemplateObject:vy,__importStar:wy,__importDefault:Dy,__classPrivateFieldGet:Ey,__classPrivateFieldSet:Sy,__classPrivateFieldIn:_y}=Qa.default;function eu(r){return r.toLowerCase()}var jl=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],$l=/[^A-Z0-9]+/gi;function ru(r,e){e===void 0&&(e={});for(var t=e.splitRegexp,n=t===void 0?jl:t,i=e.stripRegexp,o=i===void 0?$l:i,s=e.transform,a=s===void 0?eu:s,u=e.delimiter,c=u===void 0?" ":u,f=tu(tu(r,n,"$1\0$2"),o,"\0"),h=0,p=f.length;f.charAt(h)==="\0";)h++;for(;f.charAt(p-1)==="\0";)p--;return f.slice(h,p).split("\0").map(a).join(c)}function tu(r,e,t){return e instanceof RegExp?r.replace(e,t):e.reduce(function(n,i){return n.replace(i,t)},r)}function nu(r,e){return e===void 0&&(e={}),ru(r,xr({delimiter:"."},e))}function iu(r,e){return e===void 0&&(e={}),nu(r,xr({delimiter:"-"},e))}function it(r={}){let e={};return Object.keys(r||{}).forEach(t=>{typeof r[t]!="function"&&(e[iu(t)]=r[t].toString())}),e}var ou=T(ci(),1),su=()=>ou.default.grpc.WebsocketTransport;async function Ul(r,e,t){for await(let n of t)e.send({serializeBinary:()=>r.requestType.serializeBinary(n)})}function Ne(r,e,t){let n=gi({objectMode:!0}),i=gi({objectMode:!0}),o=r.client(e,{...t,host:Yt(t.host),transport:su()({agent:t.agent})});return o.onMessage(s=>{i.push(s)}),o.onEnd((s,a,u)=>{let c;if(s){let f=new Error(a);c=(0,au.default)(f,u.get("grpc-code")[0],{status:s});let h=u.get("grpc-stack")[0];h=h&&h.replace(/\\n/g,`
`),c.stack=h||f.stack}i.end(c)}),Ul(e,o,n).catch(s=>{i.end(s)}).finally(()=>{o.finishSend()}),o.start(it(t.metadata)),{sink:n,source:i}}var vu=T(pu(),1),wu=T(mu(),1);var Jl=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;E.nanosecond=E.ns=1/1e6;E.\u00B5s=E.\u03BCs=E.us=E.microsecond=1/1e3;E.millisecond=E.ms=E[""]=1;E.second=E.sec=E.s=E.ms*1e3;E.minute=E.min=E.m=E.s*60;E.hour=E.hr=E.h=E.m*60;E.day=E.d=E.h*24;E.week=E.wk=E.w=E.d*7;E.month=E.b=E.d*(365.25/12);E.year=E.yr=E.y=E.d*365.25;function E(r="",e="ms"){var t=null;return r=(r+"").replace(/(\d)[,_](\d)/g,"$1$2"),r.replace(Jl,function(n,i,o){o=gu(o),o&&(t=(t||0)+parseFloat(i,10)*o)}),t&&t/(gu(e)||1)}function gu(r){return E[r]||E[r.toLowerCase().replace(/s$/,"")]}var bu=E;var Ee=class extends Error{constructor(e="request timed out"){super(e),this.name="TimeoutError",this.code=Ee.code}};Ee.code="ERR_TIMEOUT";function te(r,e){return(...t)=>{let n=t[e??t.length-1];if(!n||!n.timeout)return r(...t);let i=typeof n.timeout=="string"?bu(n.timeout):n.timeout,o=new vu.TimeoutController(i);n.signal=(0,wu.anySignal)([n.signal,o.signal]);let s=r(...t),a=new Promise((f,h)=>{o.signal.addEventListener("abort",()=>{h(new Ee)})}),u=Date.now(),c=()=>{if(o.signal.aborted)throw new Ee;if(Date.now()-u>i)throw o.abort(),new Ee};return s[Symbol.asyncIterator]?async function*(){let f=s[Symbol.asyncIterator]();try{for(;;){let{value:h,done:p}=await Promise.race([f.next(),a]);if(p)break;c(),yield h}}catch(h){throw c(),h}finally{o.clear(),f.return&&f.return()}}():(async()=>{try{let f=await Promise.race([s,a]);return c(),f}catch(f){throw c(),f}finally{o.clear()}})()}}function Xl(r,e,t,n,i){let o={index:r,type:"DIRECTORY",path:t};i&&(o.mtime=i.secs,o.mtimeNsecs=i.nsecs),n!=null&&(o.mode=n),e.push(o)}async function Wl(r,e,t,n,i,o){t instanceof Uint8Array&&(t=[t]);for await(let a of t){let u={index:r,type:"FILE",path:n};o&&(u.mtime=o.secs,u.mtimeNsecs=o.nsecs),i!=null&&(u.mode=i),u.content=new Uint8Array(a,a.byteOffset,a.byteLength),e.push(u)}let s={index:r,type:"FILE",path:n};e.push(s)}async function Gl(r,e){let t=1;for await(let{path:n,content:i,mode:o,mtime:s}of ka(r)){let a=t;if(t++,i)await Wl(a,e,i,n,o,s);else if(n)Xl(a,e,n,o,s);else throw new Error("Must pass path or content or both")}}function Du(r,e,t){async function*n(i,o={}){let{source:s,sink:a}=Ne(r,e,{host:t.url,debug:Boolean(process.env.DEBUG),metadata:o,agent:t.agent});Gl(i,a).catch(u=>{a.end(u)}).finally(()=>{a.end()});for await(let u of s){if(u.type==="PROGRESS"){o.progress&&o.progress(u.bytes,u.path);continue}yield{path:u.path,cid:O.parse(u.cid),mode:u.mode,mtime:{secs:u.mtime||0,nsecs:u.mtimeNsecs||0},size:u.size}}}return te(n)}var Su=T(Di(),1);function Tr(r,e,t,n){let{source:i,sink:o}=Ne(r,e,n);return o.push(t),(0,Su.default)(i)}function _u(r,e,t){async function n(i={}){let s=await Tr(r,e,{},{host:t.url,metadata:it(i),agent:t.agent});return{...s,addresses:(s.addresses||[]).map(a=>Xe(a))}}return te(n)}function Ar(r,e,t,n){let{source:i,sink:o}=Ne(r,e,n);return o.push(t),i}function xu(r,e,t){async function*n(i,o={}){let s={path:i};for await(let a of Ar(r,e,s,{host:t.url,debug:Boolean(process.env.DEBUG),metadata:o,agent:t.agent}))yield{name:a.name,type:a.type.toLowerCase(),size:a.size,cid:O.parse(a.cid),mode:a.mode,mtime:{secs:a.mtime||0,nsecs:a.mtimeNsecs||0}}}return te(n)}var Ou=T(Di(),1);async function Tu(r,e,t,n){let{source:i,sink:o}=Ne(r,e,n);for await(let s of t)o.push(s);return o.end(),(0,Ou.default)(i)}async function*Yl(r,e){for await(let t of await br(e))yield{path:r,content:t}}function Au(r,e,t){async function n(i,o,s={}){let a={...s},u=wr(s.mtime);u!=null&&(a.mtime=u.secs,a.mtimeNsecs=u.nsecs);let c=vr(s.mode);c!=null&&(a.mode=c),await Tu(r,e,Yl(i,o),{host:t.url,debug:Boolean(process.env.DEBUG),metadata:a,agent:t.agent})}return te(n)}var ot=new Map;function Ei(){let r={};return r.promise=new Promise((e,t)=>{r.resolve=e,r.reject=t}),r}var Zl=T(Be(),1);var Cu=Symbol.for("@libp2p/peer-id");var ku=Object.values(Te).map(r=>r.decoder).reduce((r,e)=>r.or(e),Te.identity.decoder),Ru=114,Nu=36,Fu=37,Rt=class{constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}get[Cu](){return!0}toString(){return this.string==null&&(this.string=q.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return O.createV1(Ru,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return ht(this.multihash.bytes,e);if(typeof e=="string")return Si(e).equals(this);if(e?.multihash?.bytes!=null)return ht(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}},Nt=class extends Rt{constructor(e){super({...e,type:"RSA"}),this.type="RSA",this.publicKey=e.publicKey}},Ft=class extends Rt{constructor(e){super({...e,type:"Ed25519"}),this.type="Ed25519",this.publicKey=e.multihash.digest}},It=class extends Rt{constructor(e){super({...e,type:"secp256k1"}),this.type="secp256k1",this.publicKey=e.multihash.digest}};function Si(r,e){if(e=e??ku,r.charAt(0)==="1"||r.charAt(0)==="Q"){let t=Fe(q.decode(`z${r}`));return r.startsWith("12D")?new Ft({multihash:t}):r.startsWith("16U")?new It({multihash:t}):new Nt({multihash:t})}return Ql(ku.decode(r))}function Ql(r){try{let e=Fe(r);if(e.code===$t.code){if(e.digest.length===Nu)return new Ft({multihash:e});if(e.digest.length===Fu)return new It({multihash:e})}if(e.code===jt.code)return new Nt({multihash:e})}catch{return ed(O.decode(r))}throw new Error("Supplied PeerID CID is invalid")}function ed(r){if(r==null||r.multihash==null||r.version==null||r.version===1&&r.code!==Ru)throw new Error("Supplied PeerID CID is invalid");let e=r.multihash;if(e.code===jt.code)return new Nt({multihash:r.multihash});if(e.code===$t.code){if(e.digest.length===Nu)return new Ft({multihash:r.multihash});if(e.digest.length===Fu)return new It({multihash:r.multihash})}throw new Error("Supplied PeerID CID is invalid")}function Iu(r,e,t){async function n(i,o,s={}){let a={topic:i},u=Ei();Promise.resolve().then(async()=>{try{for await(let c of Ar(r,e,a,{host:t.url,debug:Boolean(process.env.DEBUG),metadata:s,agent:t.agent}))if(c.handler){let f=ot.get(i)||new Map;f.set(c.handler,o),ot.set(i,f),u.resolve()}else{let f;if(c.type==="signed"?f={type:"signed",from:Si(c.from),sequenceNumber:BigInt(`0x${z(c.sequenceNumber,"base16")}`),data:c.data,topic:c.topic,key:c.key,signature:c.signature}:f={type:"unsigned",data:c.data,topic:c.topic},typeof o=="function"){o(f);continue}o!=null&&typeof o.handleEvent=="function"&&o.handleEvent(f)}}catch(c){s&&s.onError&&s.onError(c)}}),await u.promise}return te(n)}function Bu(r,e,t){async function n(i,o,s={}){let a=[],u=ot.get(i);if(!u)return;if(o)for(let[f,h]of u.entries())h===o&&a.push(f);await Tr(r,e,{topic:i,handlers:a},{host:t.url,metadata:it(s),agent:t.agent});for(let f of a)u.delete(f);u.size||ot.delete(i)}return te(n)}var st=ca(),Pu={"ws://":"http://","wss://":"https://"};function td(r){Object.keys(Pu).forEach(e=>{r.url.startsWith(e)&&(r.url=Pu[e]+r.url.substring(e.length))})}function rd(r={url:""}){let e={...r,url:Yt(r.url)};return td(e),{addAll:Du(je.default.grpc,st.Root.add,e),id:_u(je.default.grpc,st.Root.id,e),files:{ls:xu(je.default.grpc,st.MFS.ls,e),write:Au(je.default.grpc,st.MFS.write,e)},pubsub:{subscribe:Iu(je.default.grpc,st.PubSub.subscribe,e),unsubscribe:Bu(je.default.grpc,st.PubSub.unsubscribe,e)}}}return $u(nd);})();
return IpfsGrpcClient}));
